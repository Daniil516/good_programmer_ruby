(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7840],{61383:function(e,t,o){"use strict";o.d(t,{W:function(){return a}});var r=o(37667),s=o(59913),n=o(92952);const l=e=>{if("id"in e)return e.id},i=e=>{if("__typename"in e)return e.__typename};function a({items:e,getEntityId:t=l,getEntityType:o=i,skipByEntity:a,colorScheme:c=s.ElementColorSchemes.Light}){const{handleOpenPopover:m,handleClosePopover:u}=(0,n._)({entityType:"Film",colorScheme:c}),{handleOpenPopover:p}=(0,n._)({entityType:"TvSeries",colorScheme:c});return{handleOpenPopover:(0,r.useCallback)(((r,s)=>{const n=e[r];if(!n)return;if(a&&a(n))return;const l=t(n);if(!l)return;("TvSeries"===o(n)?p:m)(s,l)}),[e,p,m]),handleClosePopover:u}}},27908:function(e,t,o){"use strict";o.d(t,{C:function(){return y}});var r=o(37667),s=o(78273),n=o.n(s),l=o(5099),i=o.n(l),a=o(73113),c=o(36515),m=o(72581),u=o(79309),p=o(54317),d=o.n(p),_=o(83605);const y=(e,t,o)=>(0,a.XM)(c.cV)((({className:s,total:l,movies:a,actions:p,moreItemsLink:y,viewportSize:f,showButtonsPermanently:h,onMovieTitleContentMouseEnter:S=i(),onMovieTitleContentMouseLeave:g=i(),title:v,testId:C,fromBlock:b,colorScheme:O,isDisplayedForPurchased:k=!0,posterViewVariant:B=u.C.Default,isClientRouting:j,getPageRoutesName:P,renderOverlay:w})=>{const I=l>a.length,N=a.length+Number(I),x=(0,c.Fs)({totalItems:N,maxVisibleItemsCount:5}),L=f===m.ViewportSizes.Small,E=B===u.C.HdBlock,M=B===u.C.TopCarousel,T=(0,r.useCallback)((e=>o?o(N+e,O):(0,_.jsx)(c.hO,{className:n()(d().carouselEmptyItem,{[d().carouselEmptyItemHdBlock]:E,[d().carouselEmptyItemHdBlockSmall]:E&&L}),colorScheme:O},e)),[o,N,O]);return(0,_.jsxs)("section",{className:n()(s),"data-test-id":C,"data-tid":"c7537407",children:[v,p,a.length>0?(0,_.jsxs)(c.rj,{toLeftButtonClassName:n()(d().carouselButtonLeft,{[d().carouselButtonHdBlockLeft]:E,[d().buttonSmall]:L}),toRightButtonClassName:n()(d().carouselButtonRight,{[d().carouselButtonHdBlockRight]:E,[d().buttonSmall]:L}),scrollBarClassName:n()({[d().scrollBarSmall]:L}),showButtonsPermanently:h,totalItemsCount:a.length,itemsContainerClassName:M?d().itemsContainerClassName:void 0,children:[a.map(((o,r)=>{const s=n()(d().carouselItem,{[d().carouselItemSmall]:L,[d().carouselItemHdBlock]:E&&!L,[d().carouselItemHdBlockSmall]:E&&L,[d().carouselItemTopCarousel]:M,[d().carouselItemTopCarouselSmall]:M&&L});return"bannerConfig"in o&&t?t({config:o.bannerConfig,className:s,index:r}):e({movie:o,className:s,viewportSize:f,index:r,onTitleContentMouseEnter(e){S(r,e)},onTitleContentMouseLeave(e){g(r,e)},fromBlock:b,colorScheme:O,isDisplayedForPurchased:k,posterViewVariant:B,isClientRouting:j,getPageRoutesName:P,renderOverlay:w})})),y&&I&&(0,_.jsx)(c.As,{className:n()(d().moreButtonLink,L&&d().moreButtonLinkSmall),total:l,link:y}),!L&&x>0&&(0,_.jsx)(c.Ti,{emptyItemsCount:x,emptyItemsRender:T})]}):null]})}))},7511:function(e,t,o){"use strict";o.d(t,{y:function(){return _}});var r=o(73696),s=o(29228),n=(o(37667),o(72581)),l=o(84775),i=o(59913),a=o(61383),c=o(10950),m=o(83605);const u=["movies","colorScheme"];function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const _=e=>{let{movies:t,colorScheme:o}=e,r=(0,s.Z)(e,u);const p=(0,l.nP)(),{handleOpenPopover:_,handleClosePopover:y}=(0,a.W)({items:t,colorScheme:o===i.BlocksColorSchemes.Dark?i.ElementColorSchemes.Dark:i.ElementColorSchemes.Light}),f=p===n.ViewportSizes.Small;return(0,m.jsx)(c.J,d(d({},r),{},{movies:t,colorScheme:o,onMovieTitleContentMouseEnter:f?void 0:_,onMovieTitleContentMouseLeave:f?void 0:y}))}},10950:function(e,t,o){"use strict";o.d(t,{J:function(){return l}});o(37667);var r=o(37581),s=o(27908),n=o(83605);const l=(0,s.C)((({movie:e,className:t,viewportSize:o,index:s,onTitleContentMouseEnter:l,onTitleContentMouseLeave:i,fromBlock:a,colorScheme:c,isDisplayedForPurchased:m=!0,posterViewVariant:u,isClientRouting:p,getPageRoutesName:d,renderOverlay:_})=>(0,n.jsx)(r.N,{movie:e,className:t,viewportSize:o,index:s,onTitleContentMouseEnter:l,onTitleContentMouseLeave:i,fromBlock:a,colorScheme:c,isDisplayedForPurchased:m,posterViewVariant:u,isClientRouting:p,getPageRoutesName:d,renderOverlay:_},e.id)))},23673:function(e,t,o){"use strict";o.d(t,{q:function(){return d}});var r=o(73696),s=o(29228),n=(o(37667),o(78273)),l=o.n(n),i=o(6096),a=o(27073),c=o.n(a),m=o(83605);const u=["withActions","isSmall"];function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}const d=e=>{let{withActions:t,isSmall:o}=e,n=(0,s.Z)(e,u);return(0,m.jsx)(i.nC,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({className:l()(c().title,{[c().withActions]:t,[c().titleSmall]:o}),size:o?i.VJ.Xmd:i.VJ.Md},n))}},90924:function(e,t,o){"use strict";o.d(t,{c:function(){return b}});var r=o(37667),s=o(78273),n=o.n(s),l=o(19765),i=o(47165),a=o(77619),c=o(72581),m=o(12012),u=o(69834),p=o(7511),d=o(23673),_=o(83875),y=o(42027),f=o(66635),h=o.n(f),S=o(83605);const g=({className:e,iframeSrc:t,isAuthorized:o,onUnauthorizedClick:s=(()=>{})})=>{const{0:l,1:i}=(0,r.useState)(!1),a=(0,r.useCallback)((()=>o?i(!0):s()),[l,o,s]),c=(0,r.useCallback)((()=>i(!1)),[l]);return(0,S.jsxs)("div",{className:n()(h().root,e),"data-tid":"68d26845",children:[(0,S.jsxs)(_.u_,{onClose:c,isOpened:l,children:[(0,S.jsx)("button",{type:"button",onClick:c,className:h().closeModal,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),(0,S.jsx)("iframe",{src:t,className:h().iframe,title:u.Z.recommendSuggestion})]}),(0,S.jsx)("span",{className:h().suggestion,children:u.Z.recommendSuggestion}),(0,S.jsx)(y.z,{className:h().button,onClick:a,children:(0,S.jsx)("span",{children:u.Z.recommendButtonCaption})})]})};var v=o(57516),C=o.n(v);const b=({movieId:e,className:t,total:o,movies:s,isAuthorized:_,onUnauthorizedRecommendMoreClick:y,recommendModalIframeSrc:f,title:h,viewportSize:v,isClientRouting:b,getPageRoutesName:O})=>{const k=(0,r.useMemo)((()=>s.length>0?l._.getUrl(i.f.SimilarFilmsPage,{id:e}):void 0),[e,s.length]),B=(0,r.useMemo)((()=>v===c.ViewportSizes.Small?(0,S.jsx)(a.L,{title:h}):(0,S.jsx)(d.q,{title:s.length>0?h:u.Z.similarMoviesNoRecommendationsYet,moreItemsCount:o,moreItemsLink:k,withActions:!0})),[h,v,o,k]);return(0,S.jsx)("section",{className:n()("similar-films-block",C().root,t,v===c.ViewportSizes.Small&&C().rootSmall),"data-tid":"f892902f",children:(0,S.jsx)(p.y,{total:o,movies:s,viewportSize:v,showButtonsPermanently:v!==c.ViewportSizes.Small,actions:v===c.ViewportSizes.Small?void 0:(0,S.jsx)(g,{iframeSrc:f,className:C().recommendMore,isAuthorized:_,onUnauthorizedClick:y}),moreItemsLink:k,title:B,fromBlock:m.WatchOnlineFromBlockQueryValue.KpButtonSimilarMovies,isClientRouting:b,getPageRoutesName:O})})}},75690:function(e,t,o){"use strict";o.d(t,{m:function(){return i}});var r=o(73696),s=o(5274);function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e){return e.map((e=>{var t;const o=(null!==(t=e.types)&&void 0!==t?t:[]).indexOf(s.DQ.Personal)>-1;return l(l({},e.movie),{},{isPersonalRecommendation:o})}))}},54317:function(e){e.exports={carouselButtonLeft:"styles_carouselButtonLeft__irUX0",carouselButtonRight:"styles_carouselButtonRight__JzkVq",carouselButtonHdBlockLeft:"styles_carouselButtonHdBlockLeft__2ZuLQ",carouselButtonHdBlockRight:"styles_carouselButtonHdBlockRight__ZGSSf",moreButtonLink:"styles_moreButtonLink__uYB6l",carouselItem:"styles_carouselItem__782RL",carouselItemTopCarousel:"styles_carouselItemTopCarousel__YwLW2",carouselEmptyItem:"styles_carouselEmptyItem__yH8ST",carouselEmptyItemHdBlock:"styles_carouselEmptyItemHdBlock__wJG_V",itemsContainerClassName:"styles_itemsContainerClassName__o_ft7",scrollBarSmall:"styles_scrollBarSmall__umziN",buttonSmall:"styles_buttonSmall__BP8WT",carouselItemSmall:"styles_carouselItemSmall__oL_4I",carouselItemHdBlockSmall:"styles_carouselItemHdBlockSmall__pFlWh",carouselItemTopCarouselSmall:"styles_carouselItemTopCarouselSmall__PXl1u",moreButtonLinkSmall:"styles_moreButtonLinkSmall__vsR7n",carouselEmptyItemHdBlockSmall:"styles_carouselEmptyItemHdBlockSmall__abkw5",carouselTouch:"styles_carouselTouch__lPD02"}},27073:function(e){e.exports={title:"styles_title__gC2ZH",withActions:"styles_withActions__zcYw5",titleSmall:"styles_titleSmall__4artk"}},57516:function(e){e.exports={root:"similar-movies-block_root__USYoW",recommendMore:"similar-movies-block_recommendMore__7YuWr",rootSmall:"similar-movies-block_rootSmall__FruAH"}},66635:function(e){e.exports={root:"styles_root__x86om",button:"styles_button__qQuDi",suggestion:"styles_suggestion__zlF0S",iframe:"styles_iframe__hBLJr",closeModal:"styles_closeModal__PxZP8"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/7840-d938f7b3a7246869.js.map