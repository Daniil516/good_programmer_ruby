(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6515],{36515:function(e,t,r){"use strict";r.d(t,{cV:function(){return v},lr:function(){return C},hO:function(){return $},As:function(){return Y},Ti:function(){return re},Iy:function(){return S},rj:function(){return M},C_:function(){return s},hB:function(){return F},Fs:function(){return n},Qz:function(){return y}});let s;!function(e){e.Left="left",e.Right="right",e.Both="both"}(s||(s={}));const n=({totalItems:e,maxVisibleItemsCount:t})=>Math.max(t-e,0);var o=r(78273),l=r.n(o);let c;!function(e){e.Left="left",e.Right="right"}(c||(c={}));var a=r(27257),i=r.n(a),u=r(83605);const f=({className:e,iconClassName:t,direction:r=c.Right,text:s,onClick:n})=>(0,u.jsxs)("button",{type:"button",onClick:n,className:l()(e,i().root),"data-tid":"6fd705ff",children:[(0,u.jsx)("span",{className:l()(t,{[i().iconLeftDir]:r===c.Left,[i().iconRightDir]:r===c.Right})}),s&&(0,u.jsx)("span",{className:i().text,children:s})]});var h=r(37667),d=r.n(h),m=r(60151),_=r.n(m);const p=({scrollBarRef:e,onEdgeReached:t})=>{const r=d().useRef(null),n=d().useCallback((e=>{var n;r.current!==e&&(r.current=e,t&&t((n=r.current)?n===s.Both?[s.Left,s.Right]:[n]:[]))}),[t]);return{handleEdgeReached:d().useCallback((()=>{if(!e.current)return;const t=(e=>{const{scrollWidth:t,clientWidth:r,scrollLeft:n}=e;return t<=r?s.Both:n<30?s.Left:t-r-n<30?s.Right:null})(e.current);n(t)}),[n])}},y=()=>{const e=d().useRef(new Set),[t,r]=d().useState([]);return{handleLoadedItemsChanged:d().useCallback((t=>{var s;(s=e.current,t.some((e=>!s.has(e))))&&(t.forEach((t=>{e.current.add(t)})),r(Array.from(e.current)))}),[]),loadedItems:t}};var g=r(28995),b=r.n(g);const C=({className:e,itemsContainerClassName:t,scrollBarClassName:r,children:s,setElementRef:n,onEdgeReached:o,onInVisibleItemsChanged:c,renderScrollToLeftButton:a,renderScrollToRightButton:i,throttleTime:f=100})=>{const m=d().useRef(null),y=d().useRef(null),{handleVisibleItemsChanged:g}=(({itemsContainerRef:e,scrollBarRef:t,onInVisibleItemsChanged:r})=>({handleVisibleItemsChanged:d().useCallback((()=>{var s;if(!r)return;const n=t.current,o=null===(s=e.current)||void 0===s?void 0:s.children;if(!n||!o)return;const l=Array.from(o).reduce(((e,t,r)=>(((e,t)=>{const{scrollLeft:r,offsetWidth:s}=e,{offsetLeft:n,offsetWidth:o}=t;return n>=r&&n+.05*o<=r+s})(n,t)&&e.push(r),e)),[]);r(l)}),[r])}))({scrollBarRef:m,itemsContainerRef:y,onInVisibleItemsChanged:c}),{handleEdgeReached:C}=p({scrollBarRef:m,onEdgeReached:o}),{handleScrollToLeft:j,handleScrollToRight:O}=(({scrollBarRef:e,itemsContainerRef:t})=>{const r=d().useCallback((t=>{e.current&&e.current.scroll({behavior:"smooth",top:0,left:t})}),[]),s=d().useCallback((()=>{if(!e.current||!t.current)return;const s=t.current.children;if(!s.length)return;const n=(({elements:e,scrollBar:t})=>{const r=t.scrollLeft,s=t.offsetWidth;for(let n=0;n<e.length;n++){const t=e[n],o=t.offsetLeft+t.offsetWidth-r;if(o>0)return r+o-s}return r-s})({elements:s,scrollBar:e.current});r(n)}),[r]),n=d().useCallback((()=>{if(!e.current||!t.current)return;const s=t.current.children;if(!s.length)return;const n=(({elements:e,scrollBar:t})=>{const r=t.scrollLeft,s=t.offsetWidth;for(let n=e.length-1;n>=0;n--){const t=e[n].offsetLeft-r;if(t<s)return t+r}return r+s})({elements:s,scrollBar:e.current});r(n)}),[r]);return{handleScrollTo:r,handleScrollToRight:n,handleScrollToLeft:s}})({scrollBarRef:m,itemsContainerRef:y}),B=d().useMemo((()=>_()((()=>{C(),g()}),f)),[g,C,f]);d().useEffect((()=>{g()}),[g]),d().useEffect((()=>{C()}),[C]),d().useEffect((()=>(window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B)})),[B]);const v=(0,h.useCallback)((e=>{y.current=e}),[]);return(0,u.jsxs)("div",{ref:n,className:l()(b().carousel,e),"data-tid":"36b81cbf",children:[(0,u.jsx)("div",{ref:m,className:l()(b().scrollBar,r),onScroll:B,children:(0,u.jsx)("div",{ref:v,className:l()(b().itemsContainer,t),children:s})}),a&&a({handleScroll:j}),i&&i({handleScroll:O})]})};var j=r(73696),O=r(29228),B=r(73113);const v="carousel",L=["totalItemsCount"];function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}const S=(0,B.XM)(v,(({totalItemsCount:e})=>({totalCount:e||0})))((e=>{let{totalItemsCount:t}=e,r=(0,O.Z)(e,L);return(0,u.jsx)(C,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))}));var N=r(99125),x=r.n(N);const k=["className","toLeftButtonClassName","toRightButtonClassName","showButtonsPermanently"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const I=e=>{let{className:t,toLeftButtonClassName:r,toRightButtonClassName:n,showButtonsPermanently:o}=e,a=(0,O.Z)(e,k);const[i,h]=d().useState([s.Left,s.Right]),m=d().useCallback((e=>{h(e)}),[]);return(0,u.jsx)(S,P(P({},a),{},{className:l()(t,x().carousel,o&&x().carouselWithPermanentButtons),onEdgeReached:m,renderScrollToLeftButton:({handleScroll:e})=>(0,u.jsx)(f,{onClick:e,className:l()(r,x().toLeftButton,{[x().displayedButton]:!i.includes(s.Left)}),direction:c.Left}),renderScrollToRightButton:({handleScroll:e})=>(0,u.jsx)(f,{onClick:e,className:l()(n,x().toRightButton,{[x().displayedButton]:!i.includes(s.Right)}),direction:c.Right})}))};var D=r(71073),E=r.n(D);const T=["itemsContainerClassName","children"];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const M=e=>{let{itemsContainerClassName:t,children:r}=e,s=(0,O.Z)(e,T);return(0,u.jsx)(I,Z(Z({},s),{},{itemsContainerClassName:l()(t,E().itemsContainer),children:r}))};var V=r(59913);const Q="\u0432\u0441\u0435\u0433\u043e",A="\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451";var K=r(11202),X=r.n(K);const z={[V.BlocksColorSchemes.Dark]:X().rootDark,[V.BlocksColorSchemes.Light]:X().rootLight,[V.BlocksColorSchemes.Grey]:X().rootLight},Y=({total:e,link:t,className:r,buttonClassName:s,colorScheme:n=V.BlocksColorSchemes.Light})=>(0,u.jsx)("a",{href:t,className:l()(z[n],r),"data-tid":"7accc49f",children:(0,u.jsxs)("div",{className:l()(X().total,s),children:[(0,u.jsx)("span",{className:X().value,children:e}),(0,u.jsx)("span",{className:X().title,children:Q})]})});var G=r(16090),J=r.n(G);const F=({className:e,link:t})=>(0,u.jsxs)("a",{href:t,className:l()(e,J().showMore),"data-tid":"589548d2",children:[(0,u.jsx)("div",{className:l()(J().arrowButton)}),(0,u.jsx)("div",{className:J().showMoreText,children:A})]});var H=r(58688),q=r.n(H);const U={[V.BlocksColorSchemes.Dark]:q().carouselSnippetDark,[V.BlocksColorSchemes.Light]:q().carouselSnippetLight,[V.BlocksColorSchemes.Grey]:q().carouselSnippetLight},$=({className:e,colorScheme:t=V.BlocksColorSchemes.Light})=>(0,u.jsx)("div",{className:l()(U[t],e),"data-tid":"1035dbdf"});var ee=r(11240),te=r.n(ee);const re=({emptyItemsCount:e,emptyItemsRender:t})=>{const r=(0,h.useMemo)((()=>new Array(e).fill(0).map(((e,r)=>(0,u.jsx)("li",{className:te().listItem,"data-tid":"9a0a045d",children:t(r)})))),[e,t]);return(0,u.jsx)("div",{className:te().emptyItems,"data-tid":"c9759ff2",children:(0,u.jsx)("ul",{className:te().emptyItemsInner,children:r})})}},58688:function(e){e.exports={carouselSnippetLight:"styles_carouselSnippetLight__Zm4XS",carouselSnippetDark:"styles_carouselSnippetDark__kKOp3 styles_carouselSnippetLight__Zm4XS"}},11202:function(e){e.exports={root:"styles_root__2HQYT",total:"styles_total__EXzWC",value:"styles_value__Ok5K_",title:"styles_title__uXbqR",rootLight:"styles_rootLight__yjdr6 styles_root__2HQYT",rootDark:"styles_rootDark__zjFgs styles_root__2HQYT"}},11240:function(e){e.exports={emptyItems:"styles_emptyItems__WsNIY",emptyItemsInner:"styles_emptyItemsInner__VbI3A",listItem:"styles_listItem__sChi1"}},99125:function(e){e.exports={carousel:"styles_carousel__EVM2s",displayedButton:"styles_displayedButton__PA6vb",carouselWithPermanentButtons:"styles_carouselWithPermanentButtons__EW5aQ",button:"styles_button__p8WQs",toLeftButton:"styles_toLeftButton__JGwPS styles_button__p8WQs",toRightButton:"styles_toRightButton__P7qf8 styles_button__p8WQs"}},28995:function(e){e.exports={carousel:"styles_carousel__jP9eI",scrollBar:"styles_scrollBar__NTulg",itemsContainer:"styles_itemsContainer__tPx8D"}},27257:function(e){e.exports={root:"styles_root__JJ9PF",text:"styles_text__Y8E8W",icon:"styles_icon__cdKpZ",iconRightDir:"styles_iconRightDir__KZiDL styles_icon__cdKpZ",iconLeftDir:"styles_iconLeftDir__J7R9r styles_icon__cdKpZ"}},71073:function(e){e.exports={itemsContainer:"styles_itemsContainer__50oSx"}},16090:function(e){e.exports={showMore:"styles_showMore__LcNmg",showMoreText:"styles_showMoreText__9GUD_",arrowButton:"styles_arrowButton__ueVsX"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/6515-245dd06fe81598d3.js.map