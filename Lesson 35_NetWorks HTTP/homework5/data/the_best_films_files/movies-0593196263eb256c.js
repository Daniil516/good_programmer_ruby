(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4708],{85427:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var i=n(41679);function o(e,{abbreviations:t,decPlaces:n=1}){let o=e,r=String(e);const a=10**n;for(let s=0;s<t.length;s++){const n=t[s];if(!n){r=(0,i.u)(o);continue}const l=10**(3*(s+1));if(!(l<=e))break;(o=Math.round(e*a/l)/a,1e3===o&&s<t.length-1)?o=1:r=`${o}${n}`}return r}},50245:function(e,t,n){"use strict";n.d(t,{Select:function(){return i.Select}});var i=n(98232)},98232:function(e,t,n){"use strict";n.d(t,{Select:function(){return v}});var i=n(37667),o=n(78273),r=n.n(o),a=n(5099),s=n.n(a),l=n(60289),d=n(29906);n(30825);let c;!function(e){e.Default="default",e.FullWidth="fullWidth"}(c||(c={}));var u=n(68299),m=n.n(u),p=n(83605);const v=({defaultCaption:e,buttonClassName:t,dropdownClassName:n,className:o,optionsGroup:a,selectedValue:u,onChange:v=s(),disabled:f=!1,theme:y=c.Default,captionViewVariant:b="bold",onOpenDropdown:k=s()})=>{const g=((e,t)=>(0,i.useMemo)((()=>{const n=e.options.find((e=>e.value===t));if(n)return n}),[e,t]))(a,u),j=(0,i.useMemo)((()=>u?[u]:[]),[u]);return(0,p.jsx)(l.u,{children:(i,s)=>(0,p.jsxs)("div",{className:r()(o,m().root,{[m().rootFullWidth]:y===c.FullWidth}),"data-tid":"d773c274",children:[(0,p.jsx)("div",{className:r()(t,m().button,{[m().buttonOpened]:s,[m().buttonDisabled]:f,[m().bold]:"bold"===b,[m().thin]:"thin-flex"===b}),onClick:f?void 0:i,children:(0,p.jsx)("span",{className:r()(m().buttonCaption,{[m().flex]:"thin-flex"===b}),children:(null===g||void 0===g?void 0:g.title)||e})}),s?(0,p.jsx)(d.o,{ref:k,className:r()(m().dropdown,n),items:a.options,title:a.title,selectedValues:j,onItemChecked:e=>{v(e.value),i()},onItemUnchecked:()=>{i()}}):null]})})}},30825:function(){},7330:function(e,t,n){"use strict";n.d(t,{M:function(){return b}});var i=n(73696),o=n(37667),r=n(12583),a=n(89987),s=n(12305),l=n(2890),d=n(78273),c=n.n(d),u=n(80640),m=n(58503),p=n.n(m),v=n(83605);const f=({direction:e,alignment:t,onTooltipButtonCLick:n,title:i,text:o,applyButtonText:r,className:a})=>(0,v.jsx)(u.u,{direction:e,alignment:t,applyButtonText:r,onCloseButtonClick:r?void 0:n,onApplyButtonClick:r?n:void 0,title:i,text:o,className:c()(p().root,a)});function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const b=e=>{const t=(0,r.useSelector)(s._F),n=(0,r.useSelector)(s.$F),d=(0,r.useSelector)(s.xA),c=(0,r.useSelector)(s.FO),u=(0,r.useSelector)(s.zd),m=(0,r.useSelector)(s.yP),p=(0,r.useSelector)(s.WZ),b=(0,r.useDispatch)(),k=()=>{b((0,l.$b)())};return(0,o.useEffect)((()=>{b((0,l.J)())}),[]),(0,v.jsx)(a.J2,{initiatorCoordinates:t||void 0,isOpened:Boolean(t)&&!m,calculatePositionStrategy:({popoverSize:e,initiatorCoordinates:t})=>(0,a.H1)({popoverSize:e,initiatorCoordinates:t,initiatorSize:n||void 0,preferredPosition:d||void 0,offset:p||void 0,isFixed:u}),isFixed:u,renderPopoverContent:({direction:t,alignment:n})=>(0,v.jsx)(f,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:null===c||void 0===c?void 0:c.title,text:null===c||void 0===c?void 0:c.contentText,applyButtonText:null===c||void 0===c?void 0:c.buttonText,onTooltipButtonCLick:k,direction:t,alignment:n},e))})}},2407:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var i=n(37667),o=n(48576),r=n.n(o),a=n(5099),s=n.n(a);let l;!function(e){e.OnReady="onReady",e.OnContentImpression="onContentImpression"}(l||(l={}));var d=n(83605);const c=({noAd:e,muted:t,loop:n,hiddenType:o,autoplay:a,trailerId:c,playing:u,loadSkin:m,onReady:p,className:v})=>{const{0:f,1:y}=(0,i.useState)("");(0,i.useEffect)((()=>y(r()())),[]);const b=function({embedId:e,autoplay:t,hiddenType:n,loop:o,muted:r,noAd:a,trailerId:l,loadSkin:d}){const{0:c,1:u}=(0,i.useState)(null),m=(0,i.useCallback)((({discovery:i})=>u(i.initEmbedPlayer({embedId:e,trailerId:l,noAd:a,hidden:n,muted:r,autoplay:t,loop:o,loadSkin:d}))),[e,l,a,n,r,t,o,d]);return(0,i.useEffect)((()=>e?(window.discoveryTrailersAsyncCallbacks=window.discoveryTrailersAsyncCallbacks||[],window.discoveryTrailersAsyncCallbacks.push(m),()=>{c&&(c.destroy(),u(null)),window.discoveryTrailersAsyncCallbacks&&window.discoveryTrailersAsyncCallbacks.filter&&(window.discoveryTrailersAsyncCallbacks=window.discoveryTrailersAsyncCallbacks.filter((e=>e!==m)))}):s()),[l,e,a,n,r,t,o]),c}({embedId:f,autoplay:a,hiddenType:o,loop:n,muted:t,noAd:e,trailerId:c,loadSkin:m});return(0,i.useEffect)((()=>{b&&(u&&b.play(),!1===u&&b.pause())}),[b,u]),(0,i.useEffect)((()=>b&&p?(b.on(l.OnContentImpression,p),()=>b.off(l.OnContentImpression,p)):s()),[b,p]),(0,d.jsx)("div",{id:f,className:v,"data-tid":"6596c02d"})}},6722:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return kl}});var i=n(73696),o=n(37667),r=n.n(o),a=n(99886),s=n(45866),l=n(69334),d=n(84874),c=n(2896),u=n(80409),m=n(5274),p=n(63123);const v=p.zY,f="selections_content_start_anchor",y={top:!0},b="\u0424\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b",k=[m.vA.Boolean,m.vA.SingleSelect],g=[m.Xe.ComingSoonMovieListItem,m.Xe.MovieListItem,m.Xe.TopMovieListItem,m.Xe.PopularMovieListItem,m.Xe.MostProfitableMovieListItem,m.Xe.MostExpensiveMovieListItem,m.Xe.BoxOfficeMovieListItem,m.Xe.OfflineAudienceMovieListItem,m.Xe.RecommendationMovieListItem];var j=n(71922),O=n(84121),S=n(59844);var h=n(81278),N=n(23077),_=n(96667),P=n(14995),x=n(5799),F=n(42448);const w={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieUserFolders"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Movie"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"public"}}]}}]}}]}}]};var D=n(45880);function*I({payload:{filmId:e,folderId:t,typeName:n,operation:i}}){yield(0,h.call)(N.K);const o=yield(0,h.select)((e=>(0,_.S)(e,{entityId:t})));(({apolloClient:e,filmId:t,folder:n,folderOperation:i,typeName:o})=>{var r;const a=(0,F.u)(o)({id:t}),s=e.readFragment({id:a,fragment:w});let l=[...(null===s||void 0===s||null===(r=s.userData)||void 0===r?void 0:r.folders)||[]];i===x.Y.Remove&&(l=l.filter((e=>(null===e||void 0===e?void 0:e.id)!==n.id))),i===x.Y.Add&&l.push({__typename:m.vy.Folder,id:n.id,name:n.name,public:n.public||!1}),(0,D.g)({apolloClient:e,cacheObjectId:a,fragment:w,data:{userData:{folders:l}}})})({apolloClient:yield(0,h.call)(P.R),filmId:String(e),folder:o,folderOperation:i,typeName:n})}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function*A({payload:e}){const{operation:t}=e,n=(0,O.D)(T(T({},e),{},{operation:t===x.Y.Add?x.Y.Remove:x.Y.Add}));yield(0,h.call)(I,n)}function*V(){yield(0,j.f)(200,(({payload:e})=>`${e.filmId}${e.folderId}`),O.D.type,I,S.t,A)}var M=n(8615),B=n(62219),E=n(14465),L=n(70197),z=n(2344);function*W({payload:{expectation:e,movieId:t,discard:n,watchListFolderOperation:i,typeName:o=m.vy.Film}}){yield(0,h.call)(N.K);const r=(0,E.Z)(e,n),a=yield(0,h.call)(P.R);(0,L.i)({apolloClient:a,filmId:t,expectation:r,typeName:o}),i&&(yield I({type:z.P.SetFilmUserFolderEffect,payload:{filmId:t,folderId:x.G.WatchList,operation:i,typeName:o}}))}function*R({payload:{movieId:e,rollbackExpectation:t,watchListFolderOperation:n,typeName:i=m.vy.Film}}){const o=yield(0,h.call)(P.R);(0,L.i)({apolloClient:o,filmId:e,expectation:t,typeName:i}),n&&(yield A({type:z.P.SetFilmUserFolderEffect,payload:{filmId:e,folderId:x.G.WatchList,operation:n,typeName:i}}))}function*U(){yield(0,j.f)(200,(({payload:e})=>String(e.movieId)),M.N.type,W,B.V,R)}var Y=n(79547),q=n(50222),Z=n(31010),Q=n(91379),$=n(92042),H=n(84775),K=n(68767),G=n(72581),X=n(7330),J=n(60959),ee=n(40258),te=n(48568),ne=n(78356),ie=n(73394),oe=n(72612),re=n(83605);const ae=r().memo((({defaultConfig:e})=>{const t=(0,ne.r)({id:m.vy.FooterConfiguration,fragment:oe.c,fragmentName:"FooterConfigData"}),n=(0,ie.j)(t)||e;return(0,re.jsx)($.$_,{config:n})}));var se=n(70530),le=n(76888),de=n(23130),ce=n(55853),ue=n(62006),me=n(51077),pe=n.n(me),ve=n(48694);const fe=e=>{var t;return(null===e||void 0===e||null===(t=e.items)||void 0===t?void 0:t.reduce(((e,t)=>t?"BooleanFilter"===(null===t||void 0===t?void 0:t.__typename)?(e.booleanFilters.push(t),e):"SingleSelectFilter"===(null===t||void 0===t?void 0:t.__typename)&&t?(e.singleSelectFilters.push(t),e):e:e),{booleanFilters:[],singleSelectFilters:[]}))||{booleanFilters:[],singleSelectFilters:[]}};var ye=n(69643),be=n(55007);const ke=({currentFilters:e,availableFilters:t})=>e.filter((e=>t.some((t=>e.filterId===t.id))));var ge=n(51769),je=n(90392);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const he=(e,t)=>{const n={},i={};if(!t)return{pathFilters:n,filteredQueryObject:i};for(const o in t)e.includes(o)?n[o]=t[o]:i[o]=t[o];return{pathFilters:n,filteredQueryObject:i}},Ne=(e,t,n)=>Se(Se({},e),{},{[t]:Array.isArray(n)?n:[n]}),_e=(e,t)=>{const n=Se({},e);return delete n[t],n};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const xe=e=>{if(!e.page)return e;const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.page,t};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const De=e=>"subscription"===e,Ie=e=>"__initial"===e,Ce=({filterId:e,valueArgument:t,query:n,pathFilters:i,isRemove:o,slug:r})=>{let a;a="number"===typeof t&&Number.isFinite(t)?t.toString():t;const s=ge.hL.includes(e),l=xe(n);if(s&&o||s&&Ie(a)||s&&((e,t,n)=>{for(const i in e)if(i===t&&e[i]===n)return!0;return!1})(i,e,a))return{query:l,params:we({slug:r},_e(i,e))};if(s)return{query:l,params:we({slug:r},Ne(i,e,a))};if(o||Ie(a)||(0,je.nP)(l,e,a)){return{query:(0,je.hL)(l,e),params:we({slug:r},i)}}return{query:(0,je.Iq)(l,e,a),params:we({slug:r},i)}},Te=e=>({booleanFilterValues:e.booleanFilterValues,intRangeFilterValues:e.intRangeFilterValues,singleSelectFilterValues:e.singleSelectFilterValues,multiSelectFilterValues:e.multiSelectFilterValues,realRangeFilterValues:e.realRangeFilterValues}),Ae=e=>Te({booleanFilterValues:e.booleanFilterValues,intRangeFilterValues:[],singleSelectFilterValues:e.singleSelectFilterValues,multiSelectFilterValues:[],realRangeFilterValues:[]}),{publicRuntimeConfig:{productionBaseUrl:Ve}}=(0,le.default)(),Me=({currentFilters:e,availableFiltersData:t})=>{const{booleanFilters:n,singleSelectFilters:i}=fe(null===t||void 0===t?void 0:t.availableFilters),o=ke({currentFilters:e.booleanFilterValues,availableFilters:n}),r=o.filter((e=>be.ON.some((t=>e.filterId===t))));const a=(e=>e.filter((e=>be.H_.some((t=>e.filterId===t)))).map((e=>we(we({},e),{},{value:be.aD[e.filterId]}))))(ke({currentFilters:e.singleSelectFilterValues,availableFilters:i})),{asPath:s}=(0,ve.useRouter)(),{query:l}=(0,ye.X)(Ae({booleanFilterValues:r,singleSelectFilterValues:a}),{});return`${Ve}${pe().format({query:l,pathname:s.split("?")[0]})}`},Be="\u0412\u0441\u0435 \u0441\u043f\u0438\u0441\u043a\u0438",Ee="\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",Le="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",ze="\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u0438\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",We="\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430",Re="\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438",Ue="\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438, \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a\u0435",Ye="\u0412\u043e\u0439\u0442\u0438",qe="\u0427\u0438\u0442\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e",Ze="\u041f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443",Qe="\u041f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043e\u0446\u0435\u043d\u043e\u043a",$e="\u041f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443",He="\u041f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u0430",Ke="\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e",Ge="\u0424\u0438\u043b\u044c\u0442\u0440\u044b",Xe="\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440",Je="\u0412\u044b\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u0438 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043a\u0438\u043d\u043e \u043e\u043d\u043b\u0430\u0439\u043d \u043d\u0430 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a\u0435",et="\u0441\u043f\u0438\u0441\u043a\u0438 \u043b\u0443\u0447\u0448\u0438\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432";var tt=n(32821);const{publicRuntimeConfig:{kp1StaticPath:nt,isAppleItunesAppEnabled:it}}=(0,le.default)(),ot=r().memo((({title:e,description:t,currentFilters:n,availableFiltersData:i,previewImageUrl:o})=>{const r=o?(0,tt.Q)(o):null,a=Me({currentFilters:n,availableFiltersData:i}),s=`${e}${de.zV}${de.xe}`,l=`${e}${de.zV}${et}${de.zV}${de.xe}`,d=t||`${e}. ${Je}`,c=(0,H.nP)();return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(ce.V,{title:s,description:d,kp1StaticPath:nt,canonicalUrl:a,shareUrl:a,shareTitle:l,shareDescription:d,shareImageSrc:null===r||void 0===r?void 0:r.src,shareImageWidth:null===r||void 0===r?void 0:r.width,shareImageHeight:null===r||void 0===r?void 0:r.height,isAppleItunesAppEnabled:it}),(0,re.jsx)(ue.d,{isSmall:c===G.ViewportSizes.Small})]})}));var rt=n(12583),at=n(60289),st=n(54772),lt=n(67200);const dt="BoxOfficeMovieListItem",ct="MostExpensiveMovieListItem",ut="MostProfitableMovieListItem",mt="OfflineAudienceMovieListItem",pt="PopularMovieListItem",vt="TopMovieListItem",ft="ComingSoonMovieListItem",yt="RecommendationMovieListItem";var bt=n(29831),kt=n(12012),gt=n(19765),jt=n(68045),Ot=n(31383),St=n(73871),ht=n(72772);const Nt=e=>{switch(e.__typename){case"Film":case"Video":return e.duration||void 0;case"TvShow":case"TvSeries":case"MiniSeries":return e.seriesDuration&&e.seriesDuration>1?e.seriesDuration:e.totalDuration||void 0;default:return}};const _t=(e,t,n,i,o)=>{var r,a,s,l,d,c,u,p,v,f,y,b,k;const{movie:g}=e,{id:j,title:O,poster:S,genres:h,cast:N,directors:_,rating:P,userData:x,mainTrailer:F,viewOption:w,isTicketsAvailable:D,__typename:I}=g,C=(0,Ot.T)({id:j,typename:I}),{productionYear:T,startYear:A,endYear:V}=(e=>{var t,n;switch(e.__typename){case"Film":case"Video":return{productionYear:e.productionYear||void 0};case"TvSeries":case"MiniSeries":case"TvShow":return{startYear:(null===(t=e.releaseYears[0])||void 0===t?void 0:t.start)||void 0,endYear:(null===(n=e.releaseYears[0])||void 0===n?void 0:n.end)||void 0};default:return{}}})(g),M=g.countries.map((e=>({id:e.id,name:e.name||""}))),B=null!==N&&void 0!==N&&N.items?(0,bt.E)(N.items.map((e=>{var t,n;return(null===e||void 0===e||null===(t=e.person)||void 0===t?void 0:t.name)||(null===e||void 0===e||null===(n=e.person)||void 0===n?void 0:n.originalName)||""}))):void 0,E=null!==_&&void 0!==_&&_.items&&((null===(r=_.items[0])||void 0===r||null===(a=r.person)||void 0===a?void 0:a.name)||(null===(s=_.items[0])||void 0===s||null===(l=s.person)||void 0===l?void 0:l.originalName))||void 0,L=Boolean(null===P||void 0===P||null===(d=P.kinopoisk)||void 0===d?void 0:d.isActive),z=(e=>{switch(e.__typename){case"Film":case"MiniSeries":case"TvSeries":case"TvShow":return e.top250||void 0;default:return}})(g),W=null===x||void 0===x||null===(c=x.voting)||void 0===c?void 0:c.value,R=Boolean(null===x||void 0===x||null===(u=x.watchStatuses)||void 0===u||null===(p=u.watched)||void 0===p?void 0:p.value),U=Boolean(null===x||void 0===x||null===(v=x.watchStatuses)||void 0===v||null===(f=v.notInterested)||void 0===f?void 0:f.value),Y=L&&(null===P||void 0===P||null===(y=P.kinopoisk)||void 0===y?void 0:y.value)||void 0,q=L&&(null===P||void 0===P||null===(b=P.kinopoisk)||void 0===b?void 0:b.count)||void 0,Z=function(e){return e?e.reduce(((e,t)=>(null!==t&&void 0!==t&&t.id&&e.push(t.id),e)),[]):[]}(null===x||void 0===x?void 0:x.folders),Q=(0,ht.w)((null===x||void 0===x?void 0:x.folders)||[]);return{key:j,isWatched:R,mainInfoProps:{movieId:j,entityType:null===e||void 0===e||null===(k=e.movie)||void 0===k?void 0:k.__typename,isClientRoutingEnabled:!0,mainTitle:O.russian||O.original||"",secondaryTitle:O.russian&&O.original||void 0,productionYear:T,startYear:A,endYear:V,countries:M,genres:(0,bt.E)(h.map((e=>e.name))),durationMinutes:Nt(g),cast:B,url:C,director:E,availabilityAnnounce:null!==w&&void 0!==w&&w.availabilityAnnounce?(0,Ot.X)(null===w||void 0===w?void 0:w.availabilityAnnounce):void 0},buyButtonsProps:{accessType:(null===w||void 0===w?void 0:w.type)||void 0,onlineCaption:(null===w||void 0===w?void 0:w.buttonText)||void 0,isPurchased:(null===w||void 0===w?void 0:w.purchasabilityStatus)===m.gY.Purchased,onlineLink:null!==w&&void 0!==w&&w.isAvailableOnline?(0,kt.getWatchFilmUrl)(g.id,{fromBlock:kt.WatchOnlineFromBlockQueryValue.KpButtonList,shouldWatchImmediately:(null===w||void 0===w?void 0:w.purchasabilityStatus)===m.gY.Purchased,isPlayInIframe:o}):void 0,onlineOriginalCaption:(null===w||void 0===w?void 0:w.originalButtonText)||void 0,afishaLink:D?gt._.getUrl(jt.s.BuyTicket,{filmId:g.id}):void 0},userActionsButtonsProps:{hasUserRating:Boolean(W),ratingValue:W,isPlannedToWatch:Q,isNotInterested:U,isWatched:R,isRatingActive:L,folders:t,selectedFoldersIds:Z,dropdownMenuClassName:n,isCanBeWatched:L},posterProps:{avatarBaseUrl:(null===S||void 0===S?void 0:S.avatarsUrl)||void 0,fallbackImageUrl:(null===S||void 0===S?void 0:S.fallbackUrl)||void 0,title:(null===O||void 0===O?void 0:O.russian)||(null===O||void 0===O?void 0:O.original)||void 0,url:C,withTrailer:Boolean(F),rating:P?{kinopoisk:P.kinopoisk?{isActive:P.kinopoisk.isActive||!1,value:P.kinopoisk.value||null}:null,expectation:P.expectation?{isActive:P.expectation.isActive||!1,value:P.expectation.value||null}:null}:void 0,posterSize:"medium",lazyLoad:i>5},ratingProps:{kinopoiskValue:Y,kinopoiskCount:q,top250Position:z||void 0}}},Pt=(e,t,n,i)=>{var o;const r=_t(e,t,n,i),a=(0,St.F)({baseUrl:r.posterProps.avatarBaseUrl,fallbackUrl:r.posterProps.fallbackImageUrl,viewportSize:r.posterProps.viewportSize,posterSize:r.posterProps.posterSize});return{key:r.key,isWatched:r.isWatched,posterProps:r.posterProps,buyButtonsProps:r.buyButtonsProps,userActionsButtonsProps:{isPlannedToWatch:r.userActionsButtonsProps.isPlannedToWatch},userActionsModalProps:{mainTitle:r.mainInfoProps.mainTitle,additionalTitle:r.mainInfoProps.secondaryTitle,isWatched:r.isWatched,isPlannedToWatch:r.userActionsButtonsProps.isPlannedToWatch,isNotInterested:r.userActionsButtonsProps.isNotInterested,initialVote:r.userActionsButtonsProps.ratingValue||void 0,imgSrcSet:a,folders:t||[],selectedFoldersIds:r.userActionsButtonsProps.selectedFoldersIds||[],isRatingActive:r.userActionsButtonsProps.isRatingActive,isCanBeWatched:r.userActionsButtonsProps.isRatingActive,showTrailerButton:Boolean(null===(o=e.movie.mainTrailer)||void 0===o?void 0:o.id)},mainInfoProps:{movieId:r.mainInfoProps.movieId,entityType:r.mainInfoProps.entityType,isClientRoutingEnabled:!0,mainTitle:r.mainInfoProps.mainTitle,startYear:r.mainInfoProps.startYear,endYear:r.mainInfoProps.endYear,secondaryTitle:r.mainInfoProps.secondaryTitle,productionYear:r.mainInfoProps.productionYear,countries:r.mainInfoProps.countries,genres:r.mainInfoProps.genres,url:r.mainInfoProps.url,isActive:!0,availabilityAnnounce:r.mainInfoProps.availabilityAnnounce}}};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Tt=e=>{var t,n;return{boxOffice:(null===(t=e.boxOffice)||void 0===t?void 0:t.amount)||0,budget:(null===(n=e.budget)||void 0===n?void 0:n.amount)||0,rate:e.ratio||0}};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Mt=e=>{var t;return{boxOffice:(null===(t=e.budget)||void 0===t?void 0:t.amount)||0}};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Lt=e=>{var t;return{boxOffice:(null===(t=e.boxOffice)||void 0===t?void 0:t.amount)||0}};function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Rt=e=>({boxOfflineAudience:e.viewers});var Ut=n(73811);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Zt=({releaseDate:e})=>({date:(0,Ut.SU)(e)}),Qt=(e,t,n,i,o,r)=>{const a=i+1+o*(r-1);switch(e.__typename){case vt:return((e,t,n,i,o)=>{const r=Pt(e,n,i,o);return r.mainInfoProps.ratingPosition=t,r})(e,e.position,t,n,i);case pt:return((e,t,n,i,o)=>{const r=Pt(e,n,i,o);return r.mainInfoProps.ratingPosition=t,r})(e,a,t,n,i);case ut:return((e,t,n,i)=>Ct(Ct({},Pt(e,t,n,i)),{},{profitabilityProps:Tt(e)}))(e,t,n,i);case ct:return((e,t,n,i)=>Vt(Vt({},Pt(e,t,n,i)),{},{boxOfficesProps:Mt(e)}))(e,t,n,i);case dt:return((e,t,n,i)=>Et(Et({},Pt(e,t,n,i)),{},{boxOfficesProps:Lt(e)}))(e,t,n,i);case mt:return((e,t,n,i)=>Wt(Wt({},Pt(e,t,n,i)),{},{boxOfflineAudienceProps:Rt(e)}))(e,t,n,i);case ft:return((e,t,n,i)=>qt(qt({},Pt(e,t,n,i)),{},{releaseProps:Zt(e)}))(e,t,n,i);default:return Pt(e,t,n,i)}},$t=(e,t,n,i,o,r)=>{switch(e.__typename){case vt:return((e,t,n,i,o,r)=>{const a=_t(e,n,i,o,r),{positionDiff:s,rate:l,votes:d}=e;return Ft(Ft({},a),{},{ratingProps:Ft(Ft({},a.ratingProps),{},{kinopoiskValue:l,kinopoiskCount:d}),ratingPositionProps:{diff:s,position:t}})})(e,e.position,t,n,i,r);case pt:return((e,t,n,i,o,r)=>{const a=_t(e,n,i,o,r),{positionDiff:s}=e;return Dt(Dt({},a),{},{ratingPositionProps:{diff:s,position:t}})})(e,o,t,n,i,r);case ut:return((e,t,n,i,o)=>Ct(Ct({},_t(e,t,n,i,o)),{},{profitabilityProps:Tt(e)}))(e,t,n,i,r);case ct:return((e,t,n,i,o)=>Vt(Vt({},_t(e,t,n,i,o)),{},{boxOfficesProps:Mt(e)}))(e,t,n,i,r);case dt:return((e,t,n,i,o)=>Et(Et({},_t(e,t,n,i,o)),{},{boxOfficesProps:Lt(e)}))(e,t,n,i,r);case mt:return((e,t,n,i,o)=>Wt(Wt({},_t(e,t,n,i,o)),{},{boxOfflineAudienceProps:Rt(e)}))(e,t,n,i,r);case ft:return((e,t,n,i,o)=>qt(qt({},_t(e,t,n,i,o)),{},{releaseProps:Zt(e)}))(e,t,n,i,r);default:return _t(e,t,n,i,r)}};var Ht=n(38777),Kt=n(28471),Gt=n(17062),Xt=n(29095),Jt=n.n(Xt);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const nn=()=>(0,re.jsx)(Kt.m,{params:Ht.BannersConfig.LIST_SUPER_BANNER.params,renderAdfoxComponent:e=>(0,re.jsx)(Gt.a,tn(tn({height:"250"},Ht.BannersConfig.LIST_SUPER_BANNER),{},{params:e,className:Jt().listSuperBanner,placeHolderClassName:Jt().listSuperBanner}))});var on=n(17789),rn=n(94755),an=n(30836),sn=n(20275),ln=n(78273),dn=n.n(ln),cn=n(14856),un=n.n(cn);const mn=({className:e,hasWatched:t,beforePosterSlot:n,poster:i,main:o,userActions:r,firstBottomContent:a,secondBottomContent:s,rating:l,beforeEndSlot:d,borderViewVariant:c,isSmall:u,mainInfoViewVariant:m})=>(0,re.jsxs)("div",{className:dn()(e,un().root,u&&un().rootSmall,t&&un().watched,"right"===c&&un().rightBorder),"data-tid":"8a6cbb06",children:[n,i,(0,re.jsxs)("div",{className:dn()(un().content,u&&un().contentSmall),children:[(0,re.jsxs)("div",{className:un().upper,children:[(0,re.jsx)("div",{className:dn()(un().main,"with-before-slot"===m&&un().mainWithBeforeSlot,"with-not-collapsed-before-slot"===m&&un().mainWithNotCollapsedBeforeSlot),children:o}),(0,re.jsxs)("div",{className:dn()(un().user,u&&un().userSmall),children:[l&&(0,re.jsx)("div",{className:un().rating,children:l}),r]})]}),(0,re.jsxs)("div",{className:dn()(u&&un().bottomContentSmall),children:[a,s]})]}),d]});var pn=n(4201),vn=n(56164),fn=n(71736),yn=n(38764),bn=n(65533),kn=n(62081),gn=n(63850),jn=n(50570),On=n(98367),Sn=n(4077),hn=n(97743),Nn=n(11858);const _n=(0,n(6253).o)(On.zx+On.zx);var Pn=n(22056),xn=n.n(Pn);const Fn=({productionYear:e,mainTitle:t,startYear:n,endYear:i,shortFilm:o,url:r,countries:a,secondaryTitle:s,durationMinutes:l,genres:d,director:c,cast:u,compactMode:m=!1,movieType:p="",availabilityAnnounce:v,entityType:f,isClientRoutingEnabled:y,movieId:b})=>{const k=(0,gn.Y)({startYear:n,endYear:i,productionYear:e}),g=(0,hn.d)([s,k,l&&(0,Sn.p)(l)]),j=(0,Nn.d)([a&&a.length?(0,hn.d)(a.slice(0,On.jb).map((({name:e})=>e))):void 0,d&&d.length?(0,hn.d)(d.slice(0,On.fR)):void 0]),O=c?`${jn.F.director}: ${c}`:void 0,S=u&&u.length?`${jn.F.cast}: ${(e=>`${(0,hn.d)(e.slice(0,2))}${e.length>3?jn.F.hasMorePostfix:""}`)(u)}`:void 0,h=_n([j,O]),N=a&&a.length,_=N||h,P=!m&&(_||S);return(0,re.jsx)(bn._,{movieId:b,entityType:f,isClientRoutingEnabled:y,url:r,mainTitleSlot:(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(yn.U,{isSmall:!1,isActive:!0,title:t,additional:p}),o&&(0,re.jsx)(kn.J,{})]}),secondaryTitleSlot:g?(0,re.jsx)("span",{className:xn().secondaryText,"data-tid":"31fba632",children:g}):null,additionalSlot:P?(0,re.jsxs)(re.Fragment,{children:[_&&(0,re.jsxs)("div",{className:xn().additionalInfo,"data-tid":"31fba632",children:[N&&(0,re.jsx)(fn.n,{countries:a.slice(0,On.wo)}),h&&(0,re.jsx)("span",{className:xn().truncatedText,children:h})]}),S&&(0,re.jsx)("div",{className:xn().additionalInfo,"data-tid":"31fba632",children:(0,re.jsx)("span",{className:xn().truncatedText,children:S})})]}):null,availabilityAnnounceSlot:v?(0,re.jsx)("div",{className:xn().availabilityAnnounce,"data-tid":"31fba632",children:v}):null})};var wn=n(1820),Dn=n(86534),In=n.n(Dn);const Cn=({position:e,diff:t})=>{let n="neutral";return t>0&&(n="positive"),t<0&&(n="negative"),(0,re.jsxs)("div",{className:In().root,"data-tid":"24298726",children:[(0,re.jsx)("span",{className:In().position,children:e}),"neutral"!==n&&(0,re.jsx)("span",{className:dn()(In().diff,{[In().positive]:"positive"===n,[In().negative]:"negative"===n}),children:Math.abs(t)})]})};var Tn=n(53150),An=n.n(Tn);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Bn=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,ratingPositionProps:o,mainInfoProps:r,posterProps:a,viewportSize:s,compactMode:l,ratingProps:d})=>(0,re.jsx)(mn,{poster:(0,re.jsx)(pn.o,Mn(Mn({},a),{},{viewportSize:s,className:An().poster})),rating:(0,re.jsx)(vn.d,Mn(Mn({},d),{},{compactMode:l})),main:(0,re.jsx)(Fn,Mn(Mn({},r),{},{compactMode:l})),beforePosterSlot:(0,re.jsx)(Cn,Mn({},o)),firstBottomContent:(0,re.jsx)(sn.z,Mn({},i)),userActions:(0,re.jsx)(wn.A,Mn({},n)),mainInfoViewVariant:"with-not-collapsed-before-slot",hasWatched:e,className:t});var En=n(94510),Ln=n.n(En);const zn=e=>`$${e}`,Wn=e=>`${e} \u0447\u0435\u043b.`;var Rn=n(41679),Un=n(85427),Yn=n(2038),qn=n.n(Yn),Zn=n(29939),Qn=n.n(Zn);const $n=({caption:e,value:t,isSmall:n})=>(0,re.jsxs)("div",{className:dn()(Qn().root,n&&Qn().rootSmall),"data-tid":"bfa6993c",children:[(0,re.jsx)("span",{className:dn()(Qn().caption,n&&Qn().captionSmall),children:e}),(0,re.jsx)("span",{className:dn()(Qn().value,n&&Qn().valueSmall),children:t})]}),Hn=[null," \u043c\u043b\u043d"," \u043c\u043b\u0440\u0434"," \u0442\u0440\u043b\u043d"],Kn=({budget:e,rate:t,boxOffice:n,currencifier:i=zn,viewportSize:o,className:r})=>{const a=o===G.ViewportSizes.Small,s=(0,Rn.u)(t);return(0,re.jsxs)("div",{className:dn()(r,qn().root,a&&qn().rootSmall),"data-tid":"a258c46b",children:[(0,re.jsx)($n,{caption:jn.F.paid,value:Ln()(t,`${s} \u0440\u0430\u0437`,`${s} \u0440\u0430\u0437\u0430`,`${s} \u0440\u0430\u0437`),isSmall:a}),(0,re.jsx)($n,{caption:jn.F.office,value:i((0,Un.M)(n,{abbreviations:Hn,decPlaces:1})),isSmall:a}),(0,re.jsx)($n,{caption:jn.F.budget,value:i((0,Un.M)(e,{abbreviations:Hn,decPlaces:1})),isSmall:a})]})};var Gn=n(82141),Xn=n.n(Gn);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ti=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,viewportSize:a,compactMode:s,ratingProps:l,profitabilityProps:d})=>(0,re.jsx)(mn,{poster:(0,re.jsx)(pn.o,ei(ei({},r),{},{viewportSize:a})),rating:(0,re.jsx)(vn.d,ei(ei({},l),{},{compactMode:s})),main:(0,re.jsx)(Fn,ei(ei({},o),{},{compactMode:s})),firstBottomContent:(0,re.jsx)(sn.z,ei({},i)),userActions:(0,re.jsx)(wn.A,ei({},n)),secondBottomContent:(0,re.jsx)(Kn,ei(ei({},d),{},{className:Xn().profitability,viewportSize:a})),hasWatched:e,className:t});var ni=n(82208),ii=n.n(ni);const oi=({boxOffice:e,currencifier:t=zn,viewportSize:n,className:i})=>{const o=n===G.ViewportSizes.Small;return e?(0,re.jsx)("div",{className:dn()(i,ii().root,o&&ii().rootSmall),"data-tid":"4ce2c906",children:t((0,Un.M)(e,{abbreviations:be.TY,decPlaces:1}))}):null};var ri=n(87919),ai=n.n(ri);function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const di=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,viewportSize:a,compactMode:s,ratingProps:l,boxOfficesProps:d})=>(0,re.jsx)(mn,{beforePosterSlot:(0,re.jsx)(oi,li(li({},d),{},{className:ai().boxOfficesLeft,viewportSize:a})),poster:(0,re.jsx)(pn.o,li(li({},r),{},{viewportSize:a})),rating:(0,re.jsx)(vn.d,li(li({},l),{},{compactMode:s})),main:(0,re.jsx)(Fn,li(li({},o),{},{compactMode:s})),firstBottomContent:(0,re.jsx)(sn.z,li({},i)),userActions:(0,re.jsx)(wn.A,li({},n)),secondBottomContent:(0,re.jsx)(oi,li(li({},d),{},{className:ai().boxOfficesButton,viewportSize:a})),mainInfoViewVariant:"with-before-slot",hasWatched:e,className:t});var ci=n(7194),ui=n.n(ci);const mi=({onCancelDeletion:e,className:t})=>(0,re.jsxs)("div",{className:dn()(t,ui().root),"data-tid":"b280841c",children:[(0,re.jsx)("span",{className:ui().removeFilmText,children:jn.F.deletedFilmCoverText}),(0,re.jsx)("button",{type:"button",onClick:e,className:ui().resetButton,children:jn.F.recommendationFilmItemResetButtonTitle})]});function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const fi=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,viewportSize:a,compactMode:s,ratingProps:l,isDeletedFromRecommendation:d=!1,onCancelDeletion:c})=>(0,re.jsx)(mn,{poster:(0,re.jsx)(pn.o,vi(vi({},r),{},{viewportSize:a})),rating:!d&&(0,re.jsx)(vn.d,vi(vi({},l),{},{compactMode:s})),main:(0,re.jsx)(Fn,vi(vi({},o),{},{compactMode:s})),firstBottomContent:(0,re.jsx)(sn.z,vi({},i)),userActions:!d&&(0,re.jsx)(wn.A,vi({},n)),beforeEndSlot:d&&c&&(0,re.jsx)(mi,{onCancelDeletion:c}),hasWatched:e,className:t});var yi=n(36411),bi=n.n(yi);const ki=({boxOfflineAudience:e,currencifier:t=Wn,viewportSize:n,className:i})=>{const o=n===G.ViewportSizes.Small;return e||0===e?(0,re.jsx)("div",{className:dn()(i,bi().root,o&&bi().rootSmall),"data-tid":"d73fac2b",children:t((0,Un.M)(e,{abbreviations:be.TY,decPlaces:1}))}):null};var gi=n(49175),ji=n.n(gi);function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const hi=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,viewportSize:a,compactMode:s,ratingProps:l,boxOfflineAudienceProps:d})=>(0,re.jsx)(mn,{beforePosterSlot:(0,re.jsx)(ki,Si(Si({},d),{},{className:ji().boxOfflineAudienceLeft,viewportSize:a})),poster:(0,re.jsx)(pn.o,Si(Si({},r),{},{viewportSize:a})),rating:(0,re.jsx)(vn.d,Si(Si({},l),{},{compactMode:s})),main:(0,re.jsx)(Fn,Si(Si({},o),{},{compactMode:s})),firstBottomContent:(0,re.jsx)(sn.z,Si({},i)),userActions:(0,re.jsx)(wn.A,Si({},n)),secondBottomContent:(0,re.jsx)(ki,Si(Si({},d),{},{className:ji().boxOfflineAudienceBottom,viewportSize:a})),mainInfoViewVariant:"with-before-slot",hasWatched:e,className:t});var Ni=n(10821),_i=n.n(Ni),Pi="\u2014";const xi=({date:e})=>{const t=(0,H.nP)()===G.ViewportSizes.Small;return(0,re.jsx)("div",{className:dn()(_i().root,t&&_i().rootSmall),"data-tid":"d8c37046",children:e?(0,re.jsxs)(re.Fragment,{children:[e.day&&(0,re.jsx)("div",{className:_i().day,children:e.day}),e.month&&(0,re.jsx)("div",{className:_i().month,children:e.month.slice(0,3)}),e.year&&(0,re.jsx)("div",{className:_i().year,children:e.year})]}):(0,re.jsx)("div",{className:_i().empty,children:Pi})})};function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Di=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,viewportSize:a,compactMode:s,ratingProps:l,releaseProps:d})=>(0,re.jsx)(mn,{beforePosterSlot:(0,re.jsx)(xi,wi({},d)),poster:(0,re.jsx)(pn.o,wi(wi({},r),{},{viewportSize:a})),main:(0,re.jsx)(Fn,wi(wi({},o),{},{compactMode:s})),firstBottomContent:(0,re.jsx)(sn.z,wi({},i)),userActions:(0,re.jsx)(wn.A,wi({},n)),mainInfoViewVariant:"with-before-slot",rating:(0,re.jsx)(vn.d,wi(wi({},l),{},{compactMode:s})),hasWatched:e,className:t});function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ti=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,viewportSize:a,compactMode:s,ratingProps:l})=>(0,re.jsx)(mn,{poster:(0,re.jsx)(pn.o,Ci(Ci({},r),{},{viewportSize:a})),rating:(0,re.jsx)(vn.d,Ci(Ci({},l),{},{compactMode:s})),main:(0,re.jsx)(Fn,Ci(Ci({},o),{},{compactMode:s})),firstBottomContent:(0,re.jsx)(sn.z,Ci({},i)),userActions:(0,re.jsx)(wn.A,Ci({},n)),hasWatched:e,className:t}),Ai={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MovieListStat"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"FilterValuesInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUserData"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movieListBySlug"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"userData"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withUserData"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watched"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},Vi=(e=>{var t;if("OperationDefinition"===e.definitions[0].kind&&null!==(t=e.definitions[0].name)&&void 0!==t&&t.value)return e.definitions[0].name.value;throw Error("Query name is required")})(Ai);function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ei=r().memo((({props:e,movieId:t,type:n,typeName:i,mainTrailerId:o})=>{const r=(0,rn.b)({trailerId:o,movieId:t}),{togglePlannedToWatch:a,toggleWatchStatus:s,toggleNotInterestedStatus:l,handleVote:d,handleRemoveVote:c,handleFolderUnselect:u,handleFolderSelect:m,handleDiscardRemoveRecommendation:p,handleRemoveRecommendation:v,isDeletedFromRecommendation:f}=(0,an.s)({filmId:t,movieTypeName:i,isPlannedToWatch:Boolean(e.userActionsButtonsProps.isPlannedToWatch),isWatched:Boolean(e.isWatched),isNeedToShowNotifications:!0,isNotInterested:Boolean(e.userActionsButtonsProps.isNotInterested),filmVote:{value:e.userActionsButtonsProps.ratingValue||null,votedAt:null},queriesToRefetchOnWatchStatus:[Vi]});e.userActionsButtonsProps.onNotInterested=l,e.userActionsButtonsProps.onWatched=s,e.userActionsButtonsProps.onPlannedToWatch=a,e.userActionsButtonsProps.onVote=d,e.userActionsButtonsProps.onVoteDelete=c,e.userActionsButtonsProps.onFolderUnselect=u,e.userActionsButtonsProps.onFolderSelect=m,e.posterProps.onClick=r;const y={type:n,props:e};switch(y.type){case vt:case pt:return(0,re.jsx)(Bn,Bi({},y.props));case ut:return(0,re.jsx)(ti,Bi({},y.props));case ct:case dt:return(0,re.jsx)(di,Bi({},y.props));case yt:return e.userActionsButtonsProps.onNotInterested=v,(0,re.jsx)(fi,Bi(Bi({},y.props),{},{onCancelDeletion:p,isDeletedFromRecommendation:f}));case mt:return(0,re.jsx)(hi,Bi({},y.props));case ft:return(0,re.jsx)(Di,Bi({},y.props));default:return(0,re.jsx)(Ti,Bi({},y.props))}}));var Li=n(93846);function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ri=r().memo((({props:e,movieId:t,type:n,mainTrailerId:i})=>{const o=(0,rt.useDispatch)(),r=()=>o((0,Li.n_)()),a=(0,rn.b)({trailerId:i,movieId:t});e.userActionsButtonsProps.onDropdownButtonClick=r,e.userActionsButtonsProps.onNotInterested=r,e.userActionsButtonsProps.onWatched=r,e.userActionsButtonsProps.onPlannedToWatch=r,e.userActionsButtonsProps.onVote=r,e.userActionsButtonsProps.onVoteDelete=r,e.userActionsButtonsProps.onFolderUnselect=r,e.userActionsButtonsProps.onFolderSelect=r,e.posterProps.onClick=a;const s={type:n,props:e};switch(s.type){case vt:case pt:return(0,re.jsx)(Bn,Wi({},s.props));case ut:return(0,re.jsx)(ti,Wi({},s.props));case ct:case dt:return(0,re.jsx)(di,Wi({},s.props));case yt:return e.userActionsButtonsProps.onNotInterested=r,(0,re.jsx)(fi,Wi(Wi({},s.props),{},{onCancelDeletion:r,isDeletedFromRecommendation:!1}));case mt:return(0,re.jsx)(hi,Wi({},s.props));case ft:return(0,re.jsx)(Di,Wi({},s.props));default:return(0,re.jsx)(Ti,Wi({},s.props))}}));var Ui=n(63323),Yi=n.n(Ui);const qi=(0,on.I)({AuthorizedComponent:Ei,NotAuthorizedComponent:Ri}),Zi=({item:e,limit:t,pageNumber:n,userFolders:i,index:r,isMoviePlayInIframeOnKPEnabled:a})=>{var s,l;const d=r+1+t*(n-1),c=(0,o.useMemo)((()=>$t(e,i,Yi().dropdown,r,d,a)),[e,i,t,n,r,a]);return c?(0,re.jsxs)(re.Fragment,{children:[11===d&&(0,re.jsx)(nn,{}),(0,re.jsx)(qi,{props:c,movieId:e.movie.id,mainTrailerId:null===(s=e.movie)||void 0===s||null===(l=s.mainTrailer)||void 0===l?void 0:l.id,typeName:e.movie.__typename,type:e.__typename})]}):null},Qi=({items:e,limit:t,userFolders:n,pageNumber:i,LazyHydrationWrapper:o,isNeedWrap:r,isMoviePlayInIframeOnKPEnabled:a})=>(0,re.jsx)(re.Fragment,{children:e.map(((e,s)=>r&&o?(0,re.jsx)(o,{children:(0,re.jsx)(Zi,{item:e,userFolders:n,limit:t,pageNumber:i,index:s,isMoviePlayInIframeOnKPEnabled:a})},e.movie.id):(0,re.jsx)(Zi,{item:e,userFolders:n,limit:t,pageNumber:i,index:s,isMoviePlayInIframeOnKPEnabled:a},e.movie.id)))});var $i=n(42027),Hi=n(59913),Ki=n(66803),Gi=n.n(Ki);const Xi=({heading:e,text:t,buttonText:n,buttonOnClick:i})=>(0,re.jsxs)("div",{className:Gi().root,"data-tid":"9dca8b4a",children:[(0,re.jsx)("h2",{className:Gi().heading,children:e}),(0,re.jsx)("p",{className:Gi().text,children:t}),n&&i&&(0,re.jsx)($i.z,{className:Gi().button,onClick:i,size:Hi.ButtonSizes.L,children:n})]}),Ji=({httpStatusCode:e})=>{const t=(0,rt.useDispatch)(),n=(0,o.useCallback)((()=>{t((0,Li.n_)())}),[]);switch(e){case K.Q.NotFound:return(0,re.jsx)(Xi,{heading:Ee,text:We});case K.Q.Unauthorized:return(0,re.jsx)(Xi,{heading:Re,text:Ue,buttonText:Ye,buttonOnClick:n});case K.Q.InternalServerError:return(0,re.jsx)(Xi,{heading:Le,text:ze});default:return null}};var eo=n(2407),to=n(10455),no=n(67736),io=n(88232),oo=n(39216),ro=n.n(oo);function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const lo=({buyButtonsProps:e,userActionsModalProps:t})=>{const n=e.afishaLink||e.onlineLink;return(0,re.jsxs)("div",{className:dn()(ro().root,n&&ro().withButtons),"data-tid":"2538838b",children:[n?(0,re.jsx)(sn.z,so({},e)):null,(0,re.jsx)(io.Q,so({className:ro().userActionButton},t))]})};var co=n(84339),uo=n.n(co);function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const vo=({isWatched:e=!1,className:t,userActionsButtonsProps:n,userActionsModalProps:i,buyButtonsProps:o,mainInfoProps:r,posterProps:a})=>(0,re.jsx)(mn,{isSmall:!0,borderViewVariant:"right",poster:(0,re.jsx)(pn.o,po(po({},a),{},{viewportSize:G.ViewportSizes.Small,className:uo().poster})),rating:null,main:(0,re.jsx)(to.c,po({},r)),firstBottomContent:(0,re.jsx)(lo,{buyButtonsProps:o,userActionsModalProps:i}),secondBottomContent:null,userActions:(0,re.jsx)(no.Q,po({},n)),hasWatched:e,className:t});var fo=n(10428),yo=n.n(fo);function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const go=({isWatched:e=!1,className:t,userActionsModalProps:n,userActionsButtonsProps:i,buyButtonsProps:o,mainInfoProps:r,posterProps:a,profitabilityProps:s})=>(0,re.jsx)(mn,{isSmall:!0,borderViewVariant:"right",poster:(0,re.jsx)(pn.o,ko(ko({},a),{},{viewportSize:G.ViewportSizes.Small,className:yo().poster})),rating:null,main:(0,re.jsx)(to.c,ko({},r)),firstBottomContent:(0,re.jsx)(Kn,ko(ko({},s),{},{className:yo().profitability,viewportSize:G.ViewportSizes.Small})),userActions:(0,re.jsx)(no.Q,ko({},i)),secondBottomContent:(0,re.jsx)(lo,{buyButtonsProps:o,userActionsModalProps:n}),hasWatched:e,className:t});var jo=n(76490),Oo=n.n(jo);function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const No=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,boxOfficesProps:a,userActionsModalProps:s})=>(0,re.jsx)(mn,{isSmall:!0,borderViewVariant:"right",poster:(0,re.jsx)(pn.o,ho(ho({},r),{},{viewportSize:G.ViewportSizes.Small,className:Oo().poster})),rating:null,main:(0,re.jsx)(to.c,ho({},o)),firstBottomContent:(0,re.jsx)(oi,ho(ho({},a),{},{className:Oo().boxOffice,viewportSize:G.ViewportSizes.Small})),userActions:(0,re.jsx)(no.Q,ho({},n)),secondBottomContent:(0,re.jsx)(lo,{buyButtonsProps:i,userActionsModalProps:s}),hasWatched:e,className:t});var _o=n(3742),Po=n.n(_o);function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const wo=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,boxOfflineAudienceProps:a,userActionsModalProps:s})=>(0,re.jsx)(mn,{isSmall:!0,borderViewVariant:"right",poster:(0,re.jsx)(pn.o,Fo(Fo({},r),{},{viewportSize:G.ViewportSizes.Small,className:Po().poster})),rating:null,main:(0,re.jsx)(to.c,Fo({},o)),firstBottomContent:(0,re.jsx)(ki,Fo(Fo({},a),{},{className:Po().boxOfflineAudienceBottom,viewportSize:G.ViewportSizes.Small})),userActions:(0,re.jsx)(no.Q,Fo({},n)),secondBottomContent:(0,re.jsx)(lo,{buyButtonsProps:i,userActionsModalProps:s}),hasWatched:e,className:t});var Do=n(83875),Io=n(62386),Co=n.n(Io),To="\u0417\u0430\u043a\u0440\u044b\u0442\u044c";const Ao=({isOpened:e,onCloseModal:t,children:n})=>(0,re.jsx)(Do.u_,{isOpened:e,onClose:t,modalClassName:Co().body,children:(0,re.jsxs)("div",{className:Co().content,"data-tid":"f1485f51",children:[(0,re.jsx)("button",{type:"button",onClick:t,className:Co().closeButton,children:To}),(0,re.jsx)("div",{className:Co().trailer,children:n})]})});var Vo=n(81799),Mo=n.n(Vo);function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Lo=({isWatched:e=!1,className:t,userActionsButtonsProps:n,userActionsModalProps:i,buyButtonsProps:o,mainInfoProps:r,posterProps:a,releaseProps:s})=>(0,re.jsx)(mn,{isSmall:!0,borderViewVariant:"right",beforePosterSlot:(0,re.jsx)(xi,Eo({},s)),poster:(0,re.jsx)(pn.o,Eo(Eo({},a),{},{viewportSize:G.ViewportSizes.Small,className:Mo().poster})),rating:null,main:(0,re.jsx)(to.c,Eo({},r)),firstBottomContent:(0,re.jsx)(lo,{buyButtonsProps:o,userActionsModalProps:i}),secondBottomContent:null,userActions:(0,re.jsx)(no.Q,Eo({},n)),mainInfoViewVariant:"with-before-slot",hasWatched:e,className:t});var zo=n(37556),Wo=n.n(zo);function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Yo=({isWatched:e=!1,className:t,userActionsButtonsProps:n,buyButtonsProps:i,mainInfoProps:o,posterProps:r,isDeletedFromRecommendation:a,onCancelDeletion:s,userActionsModalProps:l})=>(0,re.jsx)(mn,{isSmall:!0,borderViewVariant:"right",poster:(0,re.jsx)(pn.o,Uo(Uo({},r),{},{viewportSize:G.ViewportSizes.Small,className:Wo().poster})),rating:null,main:(0,re.jsx)(to.c,Uo({},o)),firstBottomContent:(0,re.jsx)(lo,{buyButtonsProps:i,userActionsModalProps:l}),userActions:a?null:(0,re.jsx)(no.Q,Uo({},n)),beforeEndSlot:a&&(0,re.jsx)(mi,{onCancelDeletion:s}),hasWatched:e,className:t});function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Qo=r().memo((({props:e,movieId:t,type:n,typeName:i,mainTrailerId:r})=>{const{0:a,1:s}=(0,o.useState)(!1),l=(0,o.useCallback)((()=>{s(!0)}),[]),d=(0,o.useCallback)((()=>{s(!1)}),[]),{toggleNotInterestedStatus:c,toggleWatchStatus:u,togglePlannedToWatch:m,handleFolderUnselect:p,handleFolderSelect:v,handleRemoveVote:f,handleVote:y,handleDiscardRemoveRecommendation:b,handleRemoveRecommendation:k,isDeletedFromRecommendation:g}=(0,an.s)({filmId:t,movieTypeName:i,isPlannedToWatch:Boolean(e.userActionsModalProps.isPlannedToWatch),isWatched:Boolean(e.userActionsModalProps.isWatched),isNeedToShowNotifications:!1,isNotInterested:Boolean(e.userActionsModalProps.isNotInterested),filmVote:{value:e.userActionsModalProps.initialVote||null,votedAt:null},queriesToRefetchOnWatchStatus:[Vi]});e.userActionsButtonsProps.onPlannedToWatch=m,e.userActionsModalProps.onTrailerClick=l,e.userActionsModalProps.onPlannedToWatch=m,e.userActionsModalProps.onNotInterested=c,e.userActionsModalProps.onWatched=u,e.userActionsModalProps.onVoteChange=y,e.userActionsModalProps.onVoteRemove=f,e.userActionsModalProps.onSelectFolder=e=>v({folderId:e}),e.userActionsModalProps.onUnselectFolder=e=>p({folderId:e}),e.posterProps.onClick=l;const j={type:n,props:e};let O;switch(j.type){case ut:O=(0,re.jsx)(go,Zo({},j.props));break;case ct:case dt:O=(0,re.jsx)(No,Zo({},j.props));break;case mt:O=(0,re.jsx)(wo,Zo({},j.props));break;case ft:O=(0,re.jsx)(Lo,Zo({},j.props));break;case yt:e.userActionsModalProps.onNotInterested=k,e.userActionsModalProps.isNotInterested=g,O=(0,re.jsx)(Yo,Zo(Zo({},j.props),{},{onCancelDeletion:b,isDeletedFromRecommendation:g}));break;default:O=(0,re.jsx)(vo,Zo({},j.props))}return(0,re.jsxs)(re.Fragment,{children:[O,a&&r&&(0,re.jsx)(Ao,{isOpened:!0,onCloseModal:d,children:(0,re.jsx)(eo.Y,{trailerId:r,autoplay:!0})})]})}));function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ko=r().memo((({props:e,type:t,mainTrailerId:n})=>{const i=(0,rt.useDispatch)(),r=()=>i((0,Li.n_)()),{0:a,1:s}=(0,o.useState)(!1),l=(0,o.useCallback)((()=>{s(!0)}),[]),d=(0,o.useCallback)((()=>{s(!1)}),[]);e.userActionsButtonsProps.onPlannedToWatch=r,e.userActionsModalProps.onTrailerClick=l,e.userActionsModalProps.onPlannedToWatch=r,e.userActionsModalProps.onNotInterested=r,e.userActionsModalProps.onWatched=r,e.userActionsModalProps.onVoteChange=r,e.userActionsModalProps.onVoteRemove=r,e.userActionsModalProps.onAddToFoldersClick=r,e.posterProps.onClick=l;const c={type:t,props:e};let u;switch(c.type){case ut:u=(0,re.jsx)(go,Ho({},c.props));break;case ct:case dt:u=(0,re.jsx)(No,Ho({},c.props));break;case mt:u=(0,re.jsx)(wo,Ho({},c.props));break;case ft:u=(0,re.jsx)(Lo,Ho({},c.props));break;case yt:e.userActionsModalProps.onNotInterested=r,u=(0,re.jsx)(Yo,Ho(Ho({},c.props),{},{onCancelDeletion:r,isDeletedFromRecommendation:!1}));break;default:u=(0,re.jsx)(vo,Ho({},c.props))}return(0,re.jsxs)(re.Fragment,{children:[u,a&&n&&(0,re.jsx)(Ao,{isOpened:!0,onCloseModal:d,children:(0,re.jsx)(eo.Y,{trailerId:n,autoplay:!0})})]})})),Go=(0,on.I)({AuthorizedComponent:Qo,NotAuthorizedComponent:Ko}),Xo=({item:e,limit:t,pageNumber:n,userFolders:i,index:r})=>{var a,s;const l=(0,o.useMemo)((()=>Qt(e,i,"",r,t,n)),[e,i,t,n,r]);return l?(0,re.jsx)(Go,{props:l,movieId:e.movie.id,mainTrailerId:null===(a=e.movie)||void 0===a||null===(s=a.mainTrailer)||void 0===s?void 0:s.id,typeName:e.movie.__typename,type:e.__typename}):null},Jo=({items:e,limit:t,userFolders:n,pageNumber:i,isNeedWrap:o,LazyHydrationWrapper:r})=>(0,re.jsx)(re.Fragment,{children:e.map(((e,a)=>o&&r?(0,re.jsx)(r,{children:(0,re.jsx)(Xo,{item:e,userFolders:n,limit:t,pageNumber:i,index:a})},e.movie.id):(0,re.jsx)(Xo,{item:e,userFolders:n,limit:t,pageNumber:i,index:a},e.movie.id)))});var er=n(29228),tr=n(89615);const nr=e=>Number(e.page)||1,ir=["slug","page"];function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ar=()=>{const e=(0,ve.useRouter)().query,{slug:t,page:n}=e,i=(0,er.Z)(e,ir),{pathFilters:o,filteredQueryObject:r}=he(ge.hL,i);return{query:r,routerParams:rr({slug:t},o),sort:(0,tr.gX)(r),pageNumber:nr({page:n})}};var sr=n(12093),lr=n(13278),dr=n(36009),cr=n.n(dr);const ur=()=>(0,re.jsx)("div",{className:cr().skeleton,"data-tid":"89e72e4b"}),mr=({itemsCount:e})=>(0,re.jsx)(re.Fragment,{children:[...Array(e)].map(((e,t)=>(0,re.jsx)(ur,{},t)))}),pr=(0,at.Pf)((({data:e,loading:t,limit:n})=>{var i;const r=(0,rt.useSelector)(st.IZ),{isNeedWrap:a,LazyHydrationWrapper:s}=(0,sr.i)(),l=!r&&a,d=(0,H.nP)(),{pageNumber:c}=ar(),u=(0,o.useMemo)((()=>{var t;return((null===e||void 0===e||null===(t=e.movies)||void 0===t?void 0:t.items)||[]).filter((e=>Boolean(e&&(null===e||void 0===e?void 0:e.movie)&&e.__typename)))||[]}),[null===e||void 0===e||null===(i=e.movies)||void 0===i?void 0:i.items]),m=(0,rt.useSelector)(lt.u),{isMoviePlayInIframeOnKPEnabled:p}=(0,lr.p)();return t?(0,re.jsx)(mr,{itemsCount:n}):u.length<=0?(0,re.jsx)(Ji,{httpStatusCode:K.Q.NotFound}):d!==G.ViewportSizes.Small?(0,re.jsx)(Qi,{userFolders:m,items:u,limit:n,pageNumber:c,isNeedWrap:l,LazyHydrationWrapper:s,isMoviePlayInIframeOnKPEnabled:p}):(0,re.jsx)(Jo,{userFolders:m,items:u,limit:n,pageNumber:c,isNeedWrap:l,LazyHydrationWrapper:s})}),{fallback:()=>(0,re.jsx)(Ji,{httpStatusCode:K.Q.InternalServerError})});var vr=n(45432),fr=n(39223),yr=n(91329),br=n(99496),kr=n(93227),gr=n.n(kr);const jr=({footer:e,header:t,topBanner:n,topBar:i,sidebar:o,children:r,auxiliaries:a})=>{const s=(0,ve.useRouter)();return(0,re.jsxs)("div",{className:gr().root,"data-tid":"ef426037",children:[(0,re.jsx)(yr.Z,{className:gr().headerContainer,children:(0,re.jsx)(br.n,{value:s.asPath,children:t})}),(0,re.jsxs)("div",{className:gr().middleContainer,children:[n,(0,re.jsxs)("div",{className:dn()(gr().mainContainer,{[gr().mainContainerWithoutSidebar]:!o}),children:[(0,re.jsx)("div",{className:gr().topbarSlot,children:i}),o&&(0,re.jsx)("div",{className:gr().sidebarSlot,children:(0,re.jsx)(vr.Z,{offsetTop:66,children:(0,re.jsx)("div",{className:gr().sticky,children:o})})}),(0,re.jsxs)("div",{className:gr().contentSlot,children:[(0,re.jsx)("span",{id:f}),(0,re.jsx)("main",{children:r})]})]})]}),(0,re.jsx)("div",{className:gr().footerContainer,children:e}),(0,re.jsx)(fr.qD,{}),a]})};var Or=n(35891),Sr=n(72093),hr=n(95538),Nr=n(57330),_r=n(34775),Pr=n.n(_r);const xr=({filters:e,viewVariant:t="wrap",isFrozen:n=!1,startSlot:i})=>{const{routerParams:o,query:r}=ar();return(0,re.jsxs)("ul",{className:dn()(Pr().list,n&&Pr().frozen,{[Pr().noWrap]:"no-wrap"===t,[Pr().wrap]:"wrap"===t}),"data-tid":"c013358a",children:[i,e.map((({id:e,enabled:t,name:n,isActive:i})=>{if(null===n||void 0===n||!n.russian)return null;let a;a=i?(0,Sr.VI)(r,e):(0,Sr.Ci)(r,e);let s="default";return i||t||(s="disabled"),i&&(s="active"),(0,re.jsx)(Nr.k,{routeName:hr.C.MovieList,mode:s,params:o,isActive:i,query:a,children:null===n||void 0===n?void 0:n.russian},e)}))]})},Fr=({filters:e,currentToggleFilters:t,isFrozen:n,viewVariant:i,startSlot:o})=>{const r=e.filter((({id:e})=>!y[e])).map((e=>({id:e.id,name:e.name,enabled:e.enabled,isActive:(null===t||void 0===t?void 0:t.some((t=>(null===t||void 0===t?void 0:t.filterId)===e.id)))||!1})));return(0,re.jsx)(xr,{filters:r,isFrozen:n,viewVariant:i,startSlot:o})};var wr=n(41923),Dr=n.n(wr);const Ir=({title:e,children:t,viewVariant:n="default"})=>(0,re.jsxs)("details",{className:dn()(Dr().root,{[Dr().bordered]:"bordered"===n}),open:!0,"data-tid":"ba5b39a6",children:[(0,re.jsx)("summary",{className:Dr().heading,children:e}),(0,re.jsx)("div",{className:Dr().body,children:t})]});var Cr=n(50245),Tr=n(98293),Ar=n.n(Tr);function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Br=e=>{const t=(0,o.useCallback)((e=>{e&&(window.innerHeight<e.getBoundingClientRect().top+250&&e.classList.add(Ar().selectDropdownAbove),e.classList.add(Ar().selectDropdownVisible))}),[]);return(0,re.jsx)(Cr.Select,Mr(Mr({},e),{},{className:Ar().select,buttonClassName:Ar().selectButton,dropdownClassName:Ar().selectDropdown,captionViewVariant:"thin-flex",onOpenDropdown:t}))};var Er=n(51551),Lr=n.n(Er);var zr=({className:e,children:t,onChange:n,value:i,isChecked:o=!1,isDisabled:r=!1,onClick:a})=>(0,re.jsxs)("label",{className:dn()(Lr().root,{[Lr().checked]:o,[Lr().disabled]:r},e),"data-tid":"2c50651c",children:[(0,re.jsx)("input",{type:"radio",className:Lr().input,checked:o,disabled:r,onChange:()=>{!r&&n&&n(i)},value:String(i),onClick:a}),(0,re.jsx)("span",{className:Lr().caption,children:t})]});const Wr=({optionsGroup:e,selectedValue:t,onChange:n})=>(0,re.jsx)(re.Fragment,{children:e.options.map((({value:e,title:i})=>(0,re.jsx)(zr,{value:e,isChecked:e===t,onChange:n,children:i},e)))}),Rr=(e,t)=>e.filter((({id:e})=>((e,t)=>!De(e)||t.singleSelectFilterValues.some((t=>t.filterId===e)))(e,t))).map((({id:e,name:n,hint:i,values:o})=>{var r;const a=(e=>!De(e))(e)?{title:null===i||void 0===i?void 0:i.russian,value:"__initial"}:void 0;const s=(null===(r=t.singleSelectFilterValues.find((t=>t.filterId===e)))||void 0===r?void 0:r.value)||(null===a||void 0===a?void 0:a.value)||"",l=((e,t)=>{var n;const i=t?[t]:[];return(null===e||void 0===e||null===(n=e.items)||void 0===n?void 0:n.reduce(((e,t)=>{var n;return t&&t.selectable?(e.push({title:null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.russian,value:null===t||void 0===t?void 0:t.value}),e):e}),i))||i})(o,a);return{options:l,selectedValue:s,name:null===n||void 0===n?void 0:n.russian,id:e,initialOption:a}}));var Ur=n(28263);function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Zr=()=>{const e=(0,Ur.C7)();if(!e)throw new Error("There are no routes in the context");const t=(0,ve.useRouter)();return(n,i)=>{const o=e.getPage(hr.C.MovieList),r=e.getUrl(hr.C.MovieList,{params:i,query:n});t.push({pathname:o,query:qr(qr({},n),i)},r,{shallow:!0})}},Qr=["slug"],$r=()=>{const e=Zr(),t=(0,ve.useRouter)().query,{slug:n}=t,i=(0,er.Z)(t,Qr),{pathFilters:o,filteredQueryObject:r}=he(ge.hL,i);return{onSingleSelectFilterChange:(t,i)=>{const{query:a,params:s}=Ce({filterId:t,valueArgument:i,query:r,pathFilters:o,slug:n});e(a,s)}}},Hr=({data:e,loading:t,currentFilters:n})=>{const{onSingleSelectFilterChange:i}=$r(),{booleanFilters:o,singleSelectFilters:r}=fe(null===e||void 0===e?void 0:e.availableFilters),a=Rr(r,n);return(0,re.jsxs)("aside",{"data-tid":"34629c2",children:[(0,re.jsx)(Fr,{filters:o,currentToggleFilters:n.booleanFilterValues,isFrozen:t,viewVariant:"wrap"}),a.map((({id:e,name:t,options:n,selectedValue:o,initialOption:r})=>{const a=(e=>De(e)?Wr:Br)(e);return n&&n.length?(0,re.jsx)(Ir,{title:t,viewVariant:"bordered",children:(0,re.jsx)(a,{optionsGroup:{options:n},selectedValue:o,onChange:t=>i(e,t),defaultCaption:(null===r||void 0===r?void 0:r.title)||""})},e):null}))]})};var Kr=n(76290),Gr=n(25443);const Xr={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieListFeaturingData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovieListFeaturing"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]};var Jr=n(24567),ea=n.n(Jr);const ta=({items:e})=>(0,re.jsx)("ul",{className:ea().root,"data-tid":"3888ab0a",children:e.filter((({url:e})=>e)).map((({url:e,title:t})=>(0,re.jsx)("li",{className:ea().linkContainer,"data-tid":"a7248f6",children:(0,re.jsx)("a",{href:e,className:ea().link,children:t})},e)))}),na=()=>{const e=(0,ne.r)({fragment:Xr,id:m.vy.MovieListFeaturing,fragmentName:"MovieListFeaturingData"}),t=(0,Gr.I)(null===e||void 0===e?void 0:e.items);return(0,re.jsx)(ta,{items:t})};var ia=n(35463),oa=n.n(ia);const ra=r().memo((()=>(0,re.jsxs)("div",{className:oa().root,"data-tid":"c0b0f220",children:[(0,re.jsx)("div",{className:oa().breadcrumbs,children:(0,re.jsx)(Kr.Q,{routeName:hr.C.MovieListCategories,className:oa().link,shallow:!1,prefetch:!1,children:Be})}),(0,re.jsx)(na,{})]})));var aa=n(70943),sa=n(33330);function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ca=n(24740),ua=n.n(ca);const ma=({total:e,limit:t,viewportSize:n})=>{const i=n===G.ViewportSizes.Small,o=function(e,t,n){const{routerParams:i,query:o,pageNumber:r}=ar();return(0,sa.j)({page:r,limit:t,total:e,neighbors:n,getQuery:e=>da(da({},o),{},{page:e}),getParams:()=>i})}(e,t,i?1:3);return o.length<=1?null:(0,re.jsx)(aa.t,{className:dn()(ua().root,i&&ua().rootSmall),pages:o,routeName:hr.C.MovieList,shallow:!0,prefetch:!1,scrollVariant:"smooth",scrollToId:f})};var pa=n(42889);const va=e=>{const{0:t,1:n}=(0,o.useState)(e&&e.length>=170?`${e.slice(0,170).split(" ").slice(0,-1).join(" ")}... `:e);return{needToShowReadMore:t!==e,description:t,openFullDescription:()=>n(e)}};var fa=n(49965),ya=n.n(fa),ba=n(88519),ka=n.n(ba);const ga=({onClick:e})=>(0,re.jsx)("button",{type:"button",className:ka().descriptionReadMore,onClick:e,"data-tid":"85aa9747",children:qe}),ja=["slug"],Oa=(e,t)=>{var n;const i=(0,ve.useRouter)();if(null===e||void 0===e||null===(n=e.parts)||void 0===n||!n.length)return[{type:"static",text:t}];const o=i.query,{slug:r}=o,a=(0,er.Z)(o,ja),{pathFilters:s,filteredQueryObject:l}=he(ge.hL,a);return e.parts.reduce(((e,t)=>{var n;if("StaticMovieListNamePart"===t.__typename&&t.name&&e.push({type:"static",text:t.name}),"FilterReferencedMovieListNamePart"===t.__typename&&t.name&&"SingleSelectFilterValue"===(null===t||void 0===t||null===(n=t.filterValue)||void 0===n?void 0:n.__typename)){const{query:n,params:i}=Ce({filterId:t.filterValue.filterId,isRemove:!0,query:l,slug:r,pathFilters:s});e.push({type:"filter",text:t.name,query:n,params:i})}return e}),[])};var Sa=n(32038),ha=n.n(Sa);const Na=["isSmall","isLast"],_a=e=>{let{isSmall:t,isLast:n}=e,i=(0,er.Z)(e,Na);return"static"===i.type?(0,re.jsx)(re.Fragment,{children:i.text+(n?"":" ")}):"filter"===i.type?(0,re.jsxs)("div",{className:ha().filter,"data-tid":"5183bc27",children:[i.text,(0,re.jsx)(Kr.Q,{routeName:hr.C.MovieList,query:i.query,params:i.params,title:Xe,prefetch:!1,shallow:!0,className:dn()(ha().removeIcon,t&&ha().removeIconSmall)}),n?"":"\xa0"]}):null};function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const xa=({name:e,compositeName:t,description:n,coverUrl:o})=>{const r=Oa(t,e),{needToShowReadMore:a,description:s,openFullDescription:l}=va(n);return(0,re.jsxs)("div",{className:ya().root,"data-tid":"bb6db913",children:[(0,re.jsxs)("div",{className:ya().textWrapper,children:[(0,re.jsx)("h1",{className:ya().title,children:r.map(((e,t)=>(0,re.jsx)(_a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isLast:t+1===r.length},e),e.text)))}),s?(0,re.jsxs)("p",{className:ya().description,children:[s,a?(0,re.jsx)(ga,{onClick:l}):null]}):null]}),Boolean(o)&&(0,re.jsx)(pa.$,{cover:{avatarsUrl:o},viewVariant:"list"})]})},Fa=r().memo(xa),wa=(e,t,n)=>{let i=null;const o=e.reduce(((e,o)=>{const r=((e,t)=>{let n=!0;var i;return e.showCondition&&(n=(null===(i=t.find((t=>{var n;return t.id===(null===(n=e.showCondition)||void 0===n?void 0:n.filterId)})))||void 0===i?void 0:i.enabled)||!1),n})(o,t);if(!r)return e;((e,t,n)=>{if("default"===t.isActiveByFilter)return null===e;if("BooleanFilterValue"===t.isActiveByFilter.__typename){const e=t.isActiveByFilter;return n.booleanFilterValues.some((t=>t.filterId===e.filterId))}if("SingleSelectFilterValue"===t.isActiveByFilter.__typename){const e=t.isActiveByFilter;return n.singleSelectFilterValues.some((t=>t.filterId===e.filterId))}return!1})(i,o,n)&&(i=o.id);const a={booleanFilterValues:[...n.booleanFilterValues],singleSelectFilterValues:[...n.singleSelectFilterValues]},s=o.filters.reduce(((e,t)=>((e,t)=>{let n=null;if("BooleanFilterValue"===t.__typename&&(n="booleanFilterValues"),"SingleSelectFilterValue"===t.__typename&&(n="singleSelectFilterValues"),!n)return e;let i=e[n];const o=i.some((e=>e.filterId===t.filterId));return"enable"===t.toggleMode&&o?e:"disable"!==t.toggleMode||o?("enable"===t.toggleMode&&i.push({filterId:t.filterId,value:t.value}),"disable"===t.toggleMode&&(i=i.filter((e=>e.filterId!==t.filterId)),e[n]=i),e):e})(e,t)),a)||a;return e.push({filters:s,id:o.id,name:o.name}),e}),[]);return{tabs:o,activeTabId:i}},Da=[{id:"online",filters:[{__typename:"SingleSelectFilterValue",filterId:"subscription",value:"ANY",toggleMode:"enable"},{__typename:"BooleanFilterValue",filterId:"top",value:!0,toggleMode:"disable"}],isActiveByFilter:{__typename:"SingleSelectFilterValue",filterId:"subscription"},name:"\u041e\u043d\u043b\u0430\u0439\u043d"},{id:"best",filters:[{__typename:"BooleanFilterValue",filterId:"top",value:!0,toggleMode:"enable"},{__typename:"SingleSelectFilterValue",filterId:"subscription",value:"ANY",toggleMode:"disable"}],showCondition:{filterId:"top"},name:"\u041b\u0443\u0447\u0448\u0438\u0435",isActiveByFilter:{__typename:"BooleanFilterValue",filterId:"top"}},{id:"all",name:"\u0412\u0441\u0435",filters:[{__typename:"SingleSelectFilterValue",filterId:"subscription",value:"ANY",toggleMode:"disable"},{__typename:"BooleanFilterValue",filterId:"top",value:!0,toggleMode:"disable"}],isActiveByFilter:"default"}];var Ia=n(40778),Ca=n(29275);const Ta=({slug:e,filters:t,id:n,name:i,activeTabId:o,isAuthorized:r,routerParams:a,query:s})=>{var l,d,c,u;const m=Ae(t),{data:p,previousData:v,loading:f}=(0,Ia.G)(Ai,{variables:{slug:e,filters:m,withUserData:r}}),{query:y}=(0,ye.X)(m,s),b=null!==p&&void 0!==p?p:v,k=(null===b||void 0===b||null===(l=b.movieListBySlug)||void 0===l||null===(d=l.movies)||void 0===d?void 0:d.total)||0,g=(null===b||void 0===b||null===(c=b.movieListBySlug)||void 0===c||null===(u=c.userData)||void 0===u?void 0:u.watched)||0,j=o===n;return(0,re.jsx)(Ca.J,{title:i,count:k,watchedCount:g,active:j,loading:f,plural:Ln()(k,jn.F.filmForm1,jn.F.filmForm2,jn.F.filmForm3),disabled:!j&&!k,mode:"link",query:y,routerParams:a,routeName:hr.C.MovieList},n)};var Aa=n(19820),Va=n.n(Aa);const Ma=({slug:e,data:t,loading:n,currentFilters:i,RightSlot:o})=>{var r;const a=(0,H.nP)()===G.ViewportSizes.Small,s=(0,bt.E)((null===t||void 0===t||null===(r=t.availableFilters)||void 0===r?void 0:r.items)||[]),{tabs:l,activeTabId:d}=wa(Da,s,i),{routerParams:c,query:u}=ar(),m=(0,rt.useSelector)(st.IZ);return(0,re.jsxs)("div",{className:dn()(Va().root,a&&Va().scrollable),"data-tid":"c97bf23b",children:[l.map((t=>(0,re.jsx)(Ta,{isAuthorized:m,slug:e,activeTabId:d,id:t.id,name:t.name,routerParams:c,filters:t.filters,query:u},t.id))),o?(0,re.jsx)("div",{className:Va().rightSlot,children:(0,re.jsx)(o,{disable:n})}):null]})};var Ba=n(6502),Ea=n(69493),La=n.n(Ea);const za=({items:e,selectedValue:t,onChange:n,defaultCaption:i,viewportSize:o,disable:r})=>{const a=o===G.ViewportSizes.Small;return(0,re.jsx)(Ba.T,{dropdownClassName:dn()(La().filterDropdown,a&&La().filterDropdownSmall),className:dn()(La().filter,a&&La().filterSmall),viewportSize:o,items:e,selectedValue:t,onSelectItem:({value:e})=>n(e),defaultCaption:i,disable:r})},Wa={[m.g2.PositionAsc]:be.NP,[m.g2.VotesCountDesc]:"votes",[m.g2.KpRatingDesc]:"rating",[m.g2.YearDesc]:"date",[m.g2.TitleAsc]:"title"},Ra={[be.NP]:m.g2.PositionAsc,votes:m.g2.VotesCountDesc,rating:m.g2.KpRatingDesc,date:m.g2.YearDesc,title:m.g2.TitleAsc},Ua=[{value:m.g2.PositionAsc,title:Ze},{value:m.g2.VotesCountDesc,title:Qe},{value:m.g2.KpRatingDesc,title:$e},{value:m.g2.YearDesc,title:He},{value:m.g2.TitleAsc,title:Ke}],Ya=({disable:e})=>{const t=(0,H.nP)(),{sort:n}=ar(),{onChangeSort:i}=(e=>{const t=Zr(),{routerParams:n,query:i}=ar();return{onChangeSort:o=>{const r=e[o];r!==be.NP?r&&t((0,tr.YY)(i,r),n):t((0,tr.$7)(i),n)}}})(Wa);return(0,re.jsx)(za,{disable:e,onChange:i,items:Ua,selectedValue:Ra[n]||Ra[be.NP],viewportSize:t})},qa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieListCompositeName"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovieListMeta"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"compositeName"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"parts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FilterReferencedMovieListNamePart"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"filterValue"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleSelectFilterValue"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"filterId"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StaticMovieListNamePart"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},Za={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieListAvailableFilters"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovieListMeta"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableFilters"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BooleanFilter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ToggleFilter"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleSelectFilter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SingleSelectFilters"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ToggleFilter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BooleanFilter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"enabled"}},{kind:"Field",name:{kind:"Name",value:"name"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SingleSelectFilters"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleSelectFilter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"}}]}},{kind:"Field",name:{kind:"Name",value:"hint"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"}}]}},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"singleSelectFiltersOffset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"singleSelectFiltersLimit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"}}]}},{kind:"Field",name:{kind:"Name",value:"selectable"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}}]},Qa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieList"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovieListMeta"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"moviesLimit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"moviesOffset"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"moviesOrder"}}},{kind:"Argument",name:{kind:"Name",value:"supportedItemTypes"},value:{kind:"Variable",name:{kind:"Name",value:"supportedItemTypes"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"}},{kind:"Field",name:{kind:"Name",value:"original"}}]}},{kind:"Field",name:{kind:"Name",value:"poster"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"}},{kind:"Field",name:{kind:"Name",value:"fallbackUrl"}}]}},{kind:"Field",name:{kind:"Name",value:"countries"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",alias:{kind:"Name",value:"cast"},name:{kind:"Name",value:"members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"role"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ACTOR"}]}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"3"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"details"}},{kind:"Field",name:{kind:"Name",value:"person"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"originalName"}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"directors"},name:{kind:"Name",value:"members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"role"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"DIRECTOR"}]}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"details"}},{kind:"Field",name:{kind:"Name",value:"person"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"originalName"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"rating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kinopoisk"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isActive"}},{kind:"Field",name:{kind:"Name",value:"count"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"expectation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isActive"}},{kind:"Field",name:{kind:"Name",value:"count"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mainTrailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"viewOption"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonText"}},{kind:"Field",name:{kind:"Name",value:"originalButtonText"}},{kind:"Field",name:{kind:"Name",value:"promotionIcons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"}},{kind:"Field",name:{kind:"Name",value:"fallbackUrl"}}]}},{kind:"Field",alias:{kind:"Name",value:"isAvailableOnline"},name:{kind:"Name",value:"isWatchable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"anyDevice"},value:{kind:"BooleanValue",value:!1}},{kind:"ObjectField",name:{kind:"Name",value:"anyRegion"},value:{kind:"BooleanValue",value:!1}}]}}]},{kind:"Field",name:{kind:"Name",value:"purchasabilityStatus"}},{kind:"Field",name:{kind:"Name",value:"subscriptionPurchaseTag"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"rightholderLogoUrlForPoster"}},{kind:"Field",name:{kind:"Name",value:"availabilityAnnounce"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availabilityDate"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"groupPeriodType"}},{kind:"Field",name:{kind:"Name",value:"announcePromise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isTicketsAvailable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"regionId"},value:{kind:"Variable",name:{kind:"Name",value:"regionId"}}}]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Film"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productionYear"}},{kind:"Field",name:{kind:"Name",value:"duration"}},{kind:"Field",name:{kind:"Name",value:"isShortFilm"}},{kind:"Field",name:{kind:"Name",value:"top250"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TvSeries"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}}]}},{kind:"Field",name:{kind:"Name",value:"seriesDuration"}},{kind:"Field",name:{kind:"Name",value:"totalDuration"}},{kind:"Field",name:{kind:"Name",value:"top250"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MiniSeries"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}}]}},{kind:"Field",name:{kind:"Name",value:"seriesDuration"}},{kind:"Field",name:{kind:"Name",value:"totalDuration"}},{kind:"Field",name:{kind:"Name",value:"top250"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TvShow"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}}]}},{kind:"Field",name:{kind:"Name",value:"seriesDuration"}},{kind:"Field",name:{kind:"Name",value:"totalDuration"}},{kind:"Field",name:{kind:"Name",value:"top250"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productionYear"}},{kind:"Field",name:{kind:"Name",value:"duration"}},{kind:"Field",name:{kind:"Name",value:"isShortFilm"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieListUserData"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withUserData"}}}]}]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"}},{kind:"Field",name:{kind:"Name",value:"positionDiff"}},{kind:"Field",name:{kind:"Name",value:"rate"}},{kind:"Field",name:{kind:"Name",value:"votes"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MostProfitableMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boxOffice"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"budget"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"ratio"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MostExpensiveMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budget"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OfflineAudienceMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewers"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PopularMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"positionDiff"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BoxOfficeMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boxOffice"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RecommendationMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ComingSoonMovieListItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"}},{kind:"Field",name:{kind:"Name",value:"accuracy"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieListUserData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Movie"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"public"}}]}},{kind:"Field",name:{kind:"Name",value:"watchStatuses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notInterested"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"watched"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"voting"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}},{kind:"Field",name:{kind:"Name",value:"votedAt"}}]}}]}}]}}]};var $a=n(62028);const Ha={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MovieDesktopListPage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WebClientPlatform"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUserData"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"regionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"supportedFilterTypes"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"FilterType"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"FilterValuesInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"singleSelectFiltersLimit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"singleSelectFiltersOffset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"moviesLimit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"moviesOffset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"moviesOrder"}},type:{kind:"NamedType",name:{kind:"Name",value:"MovieListItemOrderBy"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"supportedItemTypes"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MovieListItemType"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movieListBySlug"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"supportedFilterTypes"},value:{kind:"Variable",name:{kind:"Name",value:"supportedFilterTypes"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieListCompositeName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieListAvailableFilters"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieList"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"webPage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kpMovieListPage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"movieListSlug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"htmlMeta"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OgImage"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"footer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FooterConfigData"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"featuring"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MovieListFeaturingData"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}},...qa.definitions,...Za.definitions,...Qa.definitions,...$a.Y.definitions,...oe.c.definitions,...Xr.definitions]},Ka={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MovieTouchListPage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WebClientPlatform"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUserData"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"regionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"supportedFilterTypes"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"FilterType"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"FilterValuesInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"singleSelectFiltersLimit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"singleSelectFiltersOffset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"moviesLimit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"moviesOffset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"moviesOrder"}},type:{kind:"NamedType",name:{kind:"Name",value:"MovieListItemOrderBy"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"supportedItemTypes"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MovieListItemType"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movieListBySlug"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"supportedFilterTypes"},value:{kind:"Variable",name:{kind:"Name",value:"supportedFilterTypes"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"cover"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieListCompositeName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieList"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieListAvailableFilters"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"webPage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kpMovieListPage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"movieListSlug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"footer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FooterConfigData"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}},...qa.definitions,...Qa.definitions,...Za.definitions,...oe.c.definitions]},Ga=e=>{const{pathFilters:t,filteredQueryObject:n}=he(ge.hL,e),{singleSelect:i}=(e=>{const t=[];for(const n in e)Array.isArray(e[n])?1===e[n].length&&t.push({filterId:n,value:e[n][0]}):t.push({filterId:n,value:e[n]});return{singleSelect:t}})(t),o=(0,je.LR)(n);return Te({booleanFilterValues:(r=(0,Sr.TH)(n),r.sort().map((e=>({filterId:e,value:!0})))||[]),intRangeFilterValues:[],singleSelectFilterValues:i.concat(o),multiSelectFilterValues:[],realRangeFilterValues:[]});var r};function Xa(e,t){return Math.max((e-1)*t,0)}const Ja=({slug:e,isDesktop:t,querySelector:n,storeSelector:i})=>{const o=n(),r=i(st.Xz),a=i(st.IZ),s=Ga(o),l=((e,t)=>t[(0,tr.gX)(e)]||t[be.NP])(o,Ra);return{slug:e,platform:t?m.L6.Desktop:m.L6.Touch,regionId:r||213,withUserData:a,supportedFilterTypes:k,filters:s,singleSelectFiltersLimit:250,singleSelectFiltersOffset:0,moviesLimit:t?50:25,moviesOffset:Xa(nr(o),t?50:25),moviesOrder:l,supportedItemTypes:g}};var es=n(23737);var ts=n(92385);function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function os(e,t){const n=(0,ts.a)(),i=Ja({slug:e,isDesktop:n,querySelector:()=>(0,ve.useRouter)().query,storeSelector:e=>(0,rt.useSelector)(e)});(e=>{const t=(0,rt.useSelector)(st.IZ),n=(0,o.useRef)(e),i=(0,es.useApolloClient)(),r=(0,o.useCallback)((({deleteMovieListStat:e})=>{i.cache.modify({fields:{movieListBySlug:(t,{DELETE:n})=>!e&&t&&t.movies&&!t.movies.items?t:n},broadcast:!1})}),[i]);if(t&&n.current!==e){const t=n.current.moviesOffset===e.moviesOffset,i=n.current.moviesOrder===e.moviesOrder;t&&i&&function(e,t){const n={};if(e.booleanFilterValues.forEach((({filterId:e,value:t})=>{n[e]=t})),!t.booleanFilterValues.every((({filterId:e,value:t})=>n[e]===t)))return!1;const i={};return e.singleSelectFilterValues.forEach((({filterId:e,value:t})=>{i[e]=t})),t.singleSelectFilterValues.every((({filterId:e,value:t})=>i[e]===t))}(n.current.filters,e.filters)||r({deleteMovieListStat:t&&i})}(0,o.useEffect)((()=>{n.current=e}),[e])})(i);return is(is({},(0,Ia.G)(t,{variables:i})),{},{currentFilters:i.filters})}var rs=n(19939),as=n(66288),ss=n(71474),ls=n.n(ss);const ds=()=>(0,re.jsx)(as.A,{className:ls().skeletonRoot});var cs={progressBarTextTemplate:"\u0412\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0438 {filmPlural} \u0438\u0437 {total}:",filmForm1:"%d \u0444\u0438\u043b\u044c\u043c",filmForm2:"%d \u0444\u0438\u043b\u044c\u043c\u0430",filmForm3:"%d \u0444\u0438\u043b\u044c\u043c\u043e\u0432"};const us=({total:e,watchedCount:t})=>{const n=((e,t)=>cs.progressBarTextTemplate.replace("{total}",e.toString()).replace("{filmPlural}",Ln()(t,cs.filmForm1,cs.filmForm2,cs.filmForm3)))(e,t),i=t/e*100,o=i%1===0?i:parseFloat(i.toFixed(2));return(0,re.jsxs)("div",{className:ls().root,"data-tid":"36d152ea",children:[(0,re.jsx)("span",{className:ls().text,children:n}),(0,re.jsx)("div",{className:ls().bar,children:(0,re.jsx)("div",{className:dn()(ls().progress,{[ls().noProgress]:!o}),style:{width:`${o}%`},children:`${o}%`})})]})},ms=(0,on.I)({AuthorizedComponent:({slug:e,currentFilters:t})=>{var n,i,o,r;const{data:a,previousData:s,loading:l,error:d}=(0,Ia.G)(Ai,{variables:{slug:e,filters:t,withUserData:!0},fetchPolicy:"cache-only"}),c=null!==a&&void 0!==a?a:s,u=null===c||void 0===c||null===(n=c.movieListBySlug)||void 0===n||null===(i=n.movies)||void 0===i?void 0:i.total,m=null===c||void 0===c||null===(o=c.movieListBySlug)||void 0===o||null===(r=o.userData)||void 0===r?void 0:r.watched;return l?(0,re.jsx)(ds,{}):d||null===m||void 0===m||!u?null:(0,re.jsx)(us,{total:u,watchedCount:m})}});var ps=n(26761),vs=n(81357),fs=n(37301),ys=n(36686),bs=n.n(ys);var ks=({slug:e,httpsStatusCode:t})=>{var n,i,o,r,a,s,l,d,c,u,m;const{data:p,previousData:v,loading:f,currentFilters:y,error:k}=(e=>os(e,Ha))(e),g=null!==(n=null===p||void 0===p?void 0:p.movieListBySlug)&&void 0!==n?n:null===v||void 0===v?void 0:v.movieListBySlug,j=(null===g||void 0===g?void 0:g.name)||b,O=t===K.Q.Unauthorized||(0,ps.T)({errors:null===k||void 0===k?void 0:k.graphQLErrors,errorType:vs.F.UserNotAuthorizedError,path:"movieListBySlug"}),S=Boolean(null===g||void 0===g||null===(i=g.availableFilters)||void 0===i||null===(o=i.items)||void 0===o?void 0:o.length);return(0,re.jsxs)(H.K$,{value:G.ViewportSizes.Medium,children:[(0,re.jsx)(se.z,{}),(0,re.jsx)(ot,{description:(null===g||void 0===g?void 0:g.description)||void 0,title:j,previewImageUrl:null===p||void 0===p||null===(r=p.webPage)||void 0===r||null===(a=r.kpMovieListPage)||void 0===a||null===(s=a.htmlMeta)||void 0===s||null===(l=s.openGraph)||void 0===l||null===(d=l.image)||void 0===d?void 0:d.avatarsUrl,currentFilters:y,availableFiltersData:g}),(0,re.jsx)(Or.H,{}),(0,re.jsx)(rs.T,{className:bs().promoPopover}),(0,re.jsx)(jr,{header:(0,re.jsx)(te.g,{}),footer:(0,re.jsx)(J.CU,{children:(0,re.jsx)(ae,{slug:e,platform:Q.PagePlatforms.Desktop,defaultConfig:$.YW})}),topBanner:(0,re.jsx)(ee.q,{}),topBar:(0,re.jsx)(ra,{}),sidebar:!O&&S&&(0,re.jsx)(Hr,{data:g,currentFilters:y,loading:f}),auxiliaries:(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(fs.P,{className:bs().notifyTooltip}),(0,re.jsx)(X.M,{})]}),children:O?(0,re.jsx)(Ji,{httpStatusCode:K.Q.Unauthorized}):(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(Fa,{compositeName:null===g||void 0===g?void 0:g.compositeName,name:j,description:(null===g||void 0===g?void 0:g.description)||void 0,coverUrl:(null===g||void 0===g||null===(c=g.cover)||void 0===c?void 0:c.avatarsUrl)||void 0}),(0,re.jsx)(Ma,{slug:e,data:g,currentFilters:y,loading:f,RightSlot:Ya}),(0,re.jsx)(ms,{currentFilters:y,slug:e}),(0,re.jsx)(pr,{limit:50,data:g,loading:f}),(0,re.jsx)(ma,{total:null!==(u=null===g||void 0===g||null===(m=g.movies)||void 0===m?void 0:m.total)&&void 0!==u?u:0,limit:50})]})})]})},gs=n(72230),js=n(52549),Os=n(75672),Ss=n(84704),hs=n(62405),Ns=n.n(hs);const _s=({children:e,onCloseModal:t,title:n})=>(0,re.jsx)(Do.F0,{children:(0,re.jsx)(Do.Lh,{onCloseModal:t,header:(0,re.jsx)("h2",{className:Ns().header,children:n}),children:e})});var Ps=n(27805),xs=n(7085),Fs=n.n(xs);const ws=({title:e,items:t,selectedValue:n,defaultCaption:i,onChange:r})=>{const{0:a,1:s}=(0,o.useState)(!1),l=n?t.find((({value:e})=>e===n)):void 0,d=({value:e})=>{s(!1),r(e)};return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsxs)("button",{type:"button",onClick:()=>s(!0),className:Fs().button,"data-tid":"89c83057",children:[(0,re.jsx)("span",{className:Fs().buttonTitle,children:e}),(0,re.jsx)("span",{className:Fs().buttonItem,children:(null===l||void 0===l?void 0:l.title)||i}),(0,re.jsx)("span",{className:Fs().icon})]}),a?(0,re.jsx)(_s,{onCloseModal:()=>{s(!1)},title:e,children:(0,re.jsx)("div",{className:Fs().list,"data-tid":"89c83057",children:t.map((({title:e,value:t})=>(0,re.jsx)(Ps.X,{viewVariant:"flat-reverse",isActive:(null===l||void 0===l?void 0:l.value)===t,title:e,value:t,onChecked:d,onUnchecked:d},t)))})}):null]})},Ds=({singleSelectFilters:e,currentFilters:t,onCloseModal:n})=>{const{onSingleSelectFilterChange:i}=$r(),o=Rr(e,t).map((({id:e,name:t,selectedValue:n,options:o})=>(0,re.jsx)(ws,{title:t,selectedValue:n,items:o,onChange:t=>{i(e,t)}},e)));return(0,re.jsx)(_s,{onCloseModal:n,title:Ge,children:o})};var Is=n(48440),Cs=n(25882),Ts=n.n(Cs);const As=({singleSelectFilters:e,currentFilters:t})=>{const{0:n,1:i}=(0,o.useState)(!1);return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(Is.C,{onClick:()=>i(!0),children:(0,re.jsx)("div",{className:Ts().icon,"data-tid":"9189352a"})}),n&&(0,re.jsx)(Ds,{singleSelectFilters:e,currentFilters:t,onCloseModal:()=>i(!1)})]})},Vs=({data:e,loading:t,currentFilters:n})=>{const{booleanFilters:i,singleSelectFilters:o}=fe(null===e||void 0===e?void 0:e.availableFilters);return(0,re.jsx)(re.Fragment,{children:(0,re.jsx)(Fr,{filters:i,currentToggleFilters:n.booleanFilterValues,isFrozen:t,viewVariant:"no-wrap",startSlot:0!==o.length?(0,re.jsx)(As,{singleSelectFilters:o,currentFilters:n}):null})})};var Ms=n(87065),Bs=n.n(Ms);function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const zs=({name:e,compositeName:t,description:n,coverUrl:i})=>{const o=Oa(t,e),{description:r,needToShowReadMore:a,openFullDescription:s}=va(n),l=Boolean(i),d=o.map(((e,t)=>(0,re.jsx)(_a,Ls(Ls({isLast:t+1===o.length},e),{},{isSmall:!0}),e.text)));return(0,re.jsxs)("div",{className:Bs().root,"data-tid":"1059b324",children:[l&&(0,re.jsxs)("div",{className:Bs().top,children:[(0,re.jsx)(pa.$,{cover:{avatarsUrl:i},viewVariant:"listSmall"}),(0,re.jsx)("h1",{className:Bs().title,children:d})]}),!l&&(0,re.jsx)("h1",{className:dn()(Bs().title,Bs().onlyTitle),children:d}),r?(0,re.jsxs)("p",{className:Bs().description,children:[r,a?(0,re.jsx)(ga,{onClick:s}):null]}):null]})},Ws=r().memo(zs);var Rs=n(5818),Us=n.n(Rs);const Ys=()=>(0,re.jsx)("div",{className:Us().root,"data-tid":"802c167",children:(0,re.jsx)(Kr.Q,{routeName:hr.C.MovieListCategories,className:Us().link,shallow:!1,prefetch:!1,children:Be})});var qs=n(81896),Zs=n(71588),Qs=n(80939),$s=n.n(Qs);var Hs=({slug:e,httpsStatusCode:t})=>{var n,i,o,r;const{data:a,previousData:s,loading:l,currentFilters:d,error:c}=(e=>os(e,Ka))(e),u=null!==(n=null===a||void 0===a?void 0:a.movieListBySlug)&&void 0!==n?n:null===s||void 0===s?void 0:s.movieListBySlug,m=(null===u||void 0===u?void 0:u.name)||b,p=null===u||void 0===u?void 0:u.id,v=t===K.Q.Unauthorized||(0,ps.T)({errors:null===c||void 0===c?void 0:c.graphQLErrors,errorType:vs.F.UserNotAuthorizedError,path:"movieListBySlug"});return(0,re.jsxs)(H.K$,{value:G.ViewportSizes.Small,children:[(0,re.jsx)(se.t,{}),(0,re.jsx)(ot,{title:m,currentFilters:d,availableFiltersData:u}),(0,re.jsx)(Ss.K,{}),(0,re.jsxs)(js.o,{footer:(0,re.jsx)(J.CU,{children:(0,re.jsx)(ae,{platform:Q.PagePlatforms.Touch,defaultConfig:$.O7,slug:e})}),promo:(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(Zs.z,{pageName:gs.i.MovieListPage,id:p}),(0,re.jsx)(qs.O,{pageName:gs.i.MovieListPage,id:p})]}),children:[(0,re.jsx)(Os.v,{}),(0,re.jsx)(Ys,{}),v?(0,re.jsx)(Ji,{httpStatusCode:K.Q.Unauthorized}):(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(Ws,{name:m,compositeName:null===u||void 0===u?void 0:u.compositeName,description:(null===u||void 0===u?void 0:u.description)||void 0,coverUrl:(null===u||void 0===u||null===(i=u.cover)||void 0===i?void 0:i.avatarsUrl)||void 0}),(0,re.jsx)("span",{id:f,"data-tid":"704dc0c2"}),(0,re.jsx)("div",{className:$s().topBar,"data-tid":"704dc0c2",children:(0,re.jsx)(Vs,{data:u,currentFilters:d,loading:l})}),(0,re.jsx)(Ma,{slug:e,data:u,currentFilters:d,loading:l}),(0,re.jsx)("div",{className:$s().sort,"data-tid":"704dc0c2",children:(0,re.jsx)(Ya,{})}),(0,re.jsx)(pr,{limit:25,data:u,loading:l}),(0,re.jsx)(ma,{total:null!==(o=null===u||void 0===u||null===(r=u.movies)||void 0===r?void 0:r.total)&&void 0!==o?o:0,limit:25,viewportSize:G.ViewportSizes.Small})]})]})]})},Ks=n(94472),Gs=n(21503),Xs=n(15370),Js=n(15586),el=n(19157),tl=n(14528),nl=n(64781),il=n(84068),ol=n(43226),rl=n(65264);function*al(e,t,n){var i;const o=yield(0,h.select)(st.IZ),r=yield(0,P.R)(),a=(0,bt.E)((null===n||void 0===n||null===(i=n.availableFilters)||void 0===i?void 0:i.items)||[]),{tabs:s}=wa(Da,a,t);try{yield(0,h.all)(s.map((t=>r.isomorphicQuery({query:Ai,variables:{slug:e,filters:Ae(t.filters),withUserData:o},errorPolicy:"all"}))))}catch(l){}}var sl=n(7788),ll=n(29232),dl=n(570),cl=n(81634);function*ul(e){const{slug:t,query:n}=e.payload;yield(0,h.call)(il.f,e),yield(0,h.call)(sl.A);const i=yield(0,P.R)();(0,cl.L)(i,v);const o=(0,ll.r)(i)===dl.A.Desktop,r=yield(0,h.select)((e=>e)),a=Ja({slug:t,querySelector:()=>n,storeSelector:e=>e(r),isDesktop:o});try{var s,l;const[e]=yield(0,h.all)([o?i.isomorphicQuery({query:Ha,variables:a,errorPolicy:"all"}):i.isomorphicQuery({query:Ka,variables:a,errorPolicy:"all"}),(0,nl.Q)({configPlatform:o?ol.r.Desktop:ol.r.Touch}),(0,rl.u)()]),n={pageInfo:e};return yield(0,h.call)(al,t,a.filters,null===(s=n.pageInfo)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.movieListBySlug),n}catch(d){return{pageInfo:null}}}var ml=n(92286);let pl;!function(e){e.FetchMovieListPageEffect="movie-list-page/FETCH_MOVIE_LIST_PAGE_EFFECT"}(pl||(pl={}));const vl=(0,ml.PH)(pl.FetchMovieListPageEffect);function fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const bl=e=>{(0,Xs.M)();const t=(0,ts.a)();return(0,Js.l)(),(0,c.xe)(),t?(0,re.jsx)(ks,yl({},e)):(0,re.jsx)(Hs,yl({},e))};bl.getInitialProps=(0,a.compose)(q.b,Z.a,(0,Ks.Z)({loadWidgetDiscovery:!0}))((async e=>{var t,n,i;const o=e.query.slug,r=o&&"string"===typeof o?o:"";if(!e.store.runSaga)throw new Error("Redux Saga not found");const{pageInfo:a}=await e.store.runSaga(ul,vl({slug:r,requestId:null===(t=e.req)||void 0===t?void 0:t.requestId,query:e.query})).toPromise();if((0,tl.W)(el.M.MovieList),(0,tl.P)(el.M.MovieList),null!==a&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.movieListBySlug)return{slug:r};if((0,ps.T)({errors:null===a||void 0===a?void 0:a.errors,errorType:vs.F.UserNotAuthorizedError,path:"movieListBySlug"}))return{slug:r,httpsStatusCode:K.Q.Unauthorized};return(0,ps.T)({errors:null===a||void 0===a?void 0:a.errors,errorType:vs.F.NotFound,path:"movieListBySlug"})?(null!==a&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.movieListBySlug||e.res&&(e.res.statusCode=K.Q.NotFound,e.res.end()),{slug:r}):(e.res&&(e.res.statusCode=K.Q.InternalServerError,e.res.end()),{slug:r})}));var kl=(0,l.withDynamicModules)([(0,u._)(),{id:"movieListPage",sagas:[V,U]},(0,Y.R$)(),(0,s.Hw)(),(0,d.dz)(),(0,Gs.h)()])(bl)},17062:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var i=n(38777);const o=(0,n(12258).c)(i.LazyAdfox)},17789:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var i=n(60289),o=n(12583),r=n(54772);function a(){return(0,o.useSelector)(r.IZ)}function s({AuthorizedComponent:e,NotAuthorizedComponent:t}){return(0,i.Nt)({hocName:"Authorized",SuccessComponent:e,FailedComponent:t,useCondition:a})}},57330:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var i=n(78273),o=n.n(i),r=(n(37667),n(76290)),a=n(48440),s=n(83605);function l({routeName:e,params:t,children:n,query:i,mode:l,prefetch:d=!1}){return(0,s.jsx)(a.C,{renderComponent:(a,c,u)=>(0,s.jsx)(r.Q,{className:o()(a,"disabled"===l&&c,"active"===l&&u),routeName:e,params:t,query:i,disabled:"disabled"===l,prefetch:d,shallow:!0,children:n})})}},48440:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});n(37667);var i=n(29392),o=n.n(i),r=n(83605);function a({children:e,onClick:t,renderComponent:n}){return n?n(o().root,o().disabled,o().active):(0,r.jsx)("button",{type:"button",className:o().root,onClick:t,"data-tid":"16300e4b",children:e})}},37301:function(e,t,n){"use strict";n.d(t,{P:function(){return y}});var i=n(37667),o=n.n(i),r=n(12583),a=n(24149);const s=e=>{const t=(e=>e[a.F])(e);return t.items[t.items.length-1]};var l=n(78273),d=n.n(l),c=n(26799),u=n(48712),m=n.n(u),p=n(83605);const{logoSquareSvg:v}=c.SOURCES_MAP,f=({className:e,onClick:t,notification:n})=>{const r=o().useRef(n);(0,i.useEffect)((()=>{r.current=n}),[n]);const a=n||r.current;return(0,p.jsx)("div",{className:d()(m().root,e,{[m().rootShow]:n}),onClick:t,"data-tid":"2f7f876f",children:a&&(0,p.jsxs)("div",{className:m().inner,children:[(0,p.jsx)("div",{className:m().image,style:{backgroundImage:`url(${v})`}}),(0,p.jsxs)("div",{className:m().content,children:[a.title?(0,p.jsx)("div",{className:m().title,children:a.title}):null,(0,p.jsx)("div",{children:a.text})]})]})})},y=({className:e})=>{const t=(0,r.useSelector)(s);return(0,p.jsx)(f,{className:e,notification:t})}},70943:function(e,t,n){"use strict";n.d(t,{t:function(){return f}});var i=n(37667),o=n(78273),r=n.n(o),a=n(76290);const s="\u041d\u0430\u0437\u0430\u0434",l="\u0412\u043f\u0435\u0440\u0435\u0434",d=e=>`${e} \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430`,c="\u0438\u0437";var u=n(60041),m=n(87245),p=n.n(m),v=n(83605);function f({pages:e,routeName:t,className:n,shallow:o,scrollVariant:m,scrollToId:f,compact:y,prefetch:b}){const k=(0,u.h)({id:f,isSmooth:!0}),g=(0,i.useCallback)((()=>{"base"===m&&window.scrollTo(0,0),f&&"smooth"===m?k():"smooth"===m&&window.scrollTo({top:0,behavior:"smooth"})}),[]);if(y){const i=e.find((e=>"left"===e.mode)),d=e.find((e=>"right"===e.mode)),u=e.find((e=>"default"===e.mode&&e.isActive)),m=e.filter((e=>"default"===e.mode)).reduce(((e,t)=>e.page>t.page?e:t));return(0,v.jsxs)("div",{className:r()(p().root,n),"data-tid":"173d6058",children:[i&&(0,v.jsx)(a.Q,{className:p().start,routeName:t,query:i.query,params:i.params,onClick:g,shallow:o,title:s,prefetch:b,scroll:!0}),u&&(0,v.jsxs)("span",{className:p().compactPages,children:[u.page,"\xa0",c,"\xa0",null===m||void 0===m?void 0:m.page]}),d&&(0,v.jsx)(a.Q,{className:p().end,routeName:t,query:d.query,params:d.params,onClick:g,shallow:o,prefetch:b,title:l,scroll:!0})]})}return(0,v.jsx)("div",{className:r()(p().root,n),"data-tid":"173d6058",children:e.map(((e,n)=>{return"left"===e.mode?(0,v.jsx)(a.Q,{className:p().start,routeName:t,query:e.query,params:e.params,onClick:g,shallow:o,prefetch:b,title:s,scroll:!0},n):"dots"===e.mode?(0,v.jsx)(a.Q,{className:p().page,routeName:t,query:e.query,params:e.params,onClick:g,shallow:o,prefetch:b,title:d(e.page),scroll:!0,children:"..."},n):"right"===e.mode?(0,v.jsx)(a.Q,{className:p().end,routeName:t,query:e.query,params:e.params,onClick:g,shallow:o,prefetch:b,title:l,scroll:!0},n):"default"===e.mode?(0,v.jsx)(a.Q,{className:r()(p().page,e.isActive&&p().active,(i=e.page,i>=1e4&&p().smaller)),routeName:t,query:e.query,params:e.params,onClick:g,shallow:o,prefetch:b,scroll:!0,children:e.page},n):null;var i}))})}},12093:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var i=n(37667),o=n(60959);const r=()=>{const e=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{e.current=!0}),[]),{isNeedWrap:!e.current,LazyHydrationWrapper:o.CU}}},94472:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});const i=(e={loadWidgetDiscovery:!1})=>t=>async n=>{const i=await t(n);return i.documentConfig=e,i}},14528:function(e,t,n){"use strict";n.d(t,{W:function(){return r},P:function(){return a}});var i=n(44328);function o(e,t){var n,o;const r=`${e}.${i.A}`;if(null!==(n=window)&&void 0!==n&&null!==(o=n.Ya)&&void 0!==o&&o.Rum){window.Ya.Rum.spa.getLastSpaSubPage(r)&&t(r)}}function r(e){o(e,(e=>{var t,n;null!==(t=window)&&void 0!==t&&null!==(n=t.Ya)&&void 0!==n&&n.Rum&&window.Ya.Rum.spa.finishDataLoading(e)}))}function a(e){o(e,(e=>{var t,n;null!==(t=window)&&void 0!==t&&null!==(n=t.Ya)&&void 0!==n&&n.Rum&&window.Ya.Rum.spa.startDataRendering(e,"",!1)}))}},73811:function(e,t,n){"use strict";n.d(t,{SU:function(){return k},mZ:function(){return N},LM:function(){return _},nn:function(){return P},q3:function(){return x},RC:function(){return w}});var i=n(73696),o=n(67034),r=n.n(o),a=(n(43335),n(46942)),s=n(19765),l=n(27641),d=n(19157),c=n(47165),u=n(5274),m=n(26937),p=n(95898);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r().locale("ru");const y=e=>{switch(e){case u.uO.Day:return"D MMMM YYYY";case u.uO.Month:return"MMMM YYYY";case u.uO.MonthDay:return"D MMMM";case u.uO.Year:default:return"YYYY"}},b=e=>{const t=y(e.accuracy);return r()(e.date,"YYYY-MM-DD").format(t)},k=e=>{if(!e)return null;const t=y(e.accuracy),n=r()(e.date).format(t).split(" ");switch(e.accuracy){case u.uO.Day:return{day:parseInt(n[0],10),month:n[1],year:parseInt(n[2],10)};case u.uO.Month:return{day:void 0,month:n[0],year:parseInt(n[1],10)};case u.uO.MonthDay:return{day:parseInt(n[0],10),month:n[1],year:void 0};case u.uO.Year:default:return{day:void 0,month:void 0,year:parseInt(n[0],10)}}},g=(0,a.PW)(((e,t)=>{if(!e)return;const n=b(e),i=(o=e.accuracy,a=e.date,d=e=>r()(e,"YYYY-MM-DD").format("YYYY"),o===u.uO.Day?d(a):a.substr(0,4));var o,a,d;return{text:n,link:s._.getUrl(l.x.Premiere,{country:"ru",year:i,id:t},{},t.toString())}})),j=e=>{if(!e)return;return{text:b(e),link:s._.getUrl(d.M.MovieList,{slug:p.n.comingSoonDigital})}},O=e=>s._.getUrl(d.M.RenterList,{companyId:e.slugId}),S=e=>s._.getUrl(d.M.ComingSoonDigitalCompany,{companyId:e.slugId}),h=(e,t,n,i)=>{const o=null===t||void 0===t?void 0:t[0];if(null===o||void 0===o||!o.date)return;const r=n(o.date,e);if(!r)return;const a=(0,m.M)(o.companies,i);return{showExtraItems:!0,items:[f(f({},r),{},{id:"premiereDate"}),...a]}},N=(0,a.PW)(((e,t,n)=>{const i=h(e,t,g,O);if(i)return f(f({},i),{},{releaseOptions:n})})),_=(0,a.PW)(((e,t,n)=>{const i=N(e,t,n);if(!i)return i;const o=i.items.splice(0,1)[0];return f(f({},i),{},{topLineText:o.text,topLineUrl:o.link})})),P=(0,a.PW)(((e,t)=>h(e,t,j,S))),x=(0,a.PW)(((e,t)=>h(e,t,g,O))),F=(0,a.PW)((e=>null!==e&&void 0!==e&&e.incompleteDate.accuracy?b(null===e||void 0===e?void 0:e.incompleteDate):void 0)),w=(0,a.PW)(((e,t,n)=>{const i=F(n);if(!i||!n)return;const o=s._.getUrl(c.f.Dates,{id:e});return{items:[{id:0,text:i,link:o}],moreLink:t&&t>1?o:void 0,showExtraItems:t&&t>1||!1,forceMoreLink:t&&t>1||!1}}))},8615:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var i=n(92286),o=n(2344);(0,i.PH)(o.P.SetFilmUserRatingEffect);const r=(0,i.PH)(o.P.SetFilmExpectationReactionEffect)},62219:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var i=n(5799),o=n(5274),r=n(77534),a=n(59844),s=n(2344);function*l({payload:{expectation:e,movieId:t,discard:n,watchListFolderOperation:l,typeName:d=o.vy.Film}}){yield(0,r.W)({id:t,rawExpectation:e,discard:n}),l&&(yield(0,a.t)({type:s.P.SetFilmUserFolderEffect,payload:{filmId:t,folderId:i.G.WatchList,operation:l,typeName:d}}))}},59844:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var i=n(5274),o=n(64705),r=n(74257);const a={[i.vy.Film]:o.MovieTypes.Film,[i.vy.TvSeries]:o.MovieTypes.TvSeries,[i.vy.Video]:o.MovieTypes.Video,[i.vy.TvShow]:o.MovieTypes.TvShow,[i.vy.MiniSeries]:o.MovieTypes.MiniSeries};function*s({payload:e}){const{filmId:t,folderId:n,operation:i,typeName:o}=e;return yield(0,r.K)({movieId:t,folderId:n,operation:i,movieType:a[o]})}},26937:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});const i=(e,t,n=!0)=>e.filter((e=>Boolean(e))).map((e=>({id:e.id,text:n?`\xab${e.displayName}\xbb`:e.displayName,link:t(e)})))},70197:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var i=n(5274),o=n(42448),r=n(45880);const a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieUserExpectation"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Movie"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expectation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}}]};function s({apolloClient:e,filmId:t,expectation:n,typeName:s}){const l=(0,o.u)(s)({id:t});(0,r.g)({apolloClient:e,cacheObjectId:l,data:{userData:{expectation:{__typename:i.vy.MovieUserExpectation,value:n}}},fragment:a})}},26868:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var i=n(5274),o=n(95538);function r(e){switch(e){case i.vy.MiniSeries:case i.vy.TvSeries:case i.vy.TvShow:return o.C.TvSeries;case i.vy.Film:case i.vy.Video:default:return o.C.Film}}},33330:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});function i({page:e,limit:t,total:n,getParams:i,getQuery:o,neighbors:r=2,dots:a=!0}){const s=Math.ceil(n/t),l=e>r+1,d=s-e>r,c=e>1,u=e<s,m=Math.max(1,e-r),p=Math.min(e+r,s),v=[];c&&v.push({page:e-1,params:i(e-1),query:o(e-1),mode:"left"}),l&&(v.push({page:1,isActive:1===e,params:i(1),query:o(1),mode:"default"}),m-1===2?v.push({page:2,isActive:2===e,params:i(2),query:o(2),mode:"default"}):a&&m-1!==1&&v.push({page:m-1,params:i(m-1),query:o(m-1),mode:"dots"}));for(let f=m;f<=p;f++)v.push({page:f,params:i(f),query:o(f),isActive:f===e,mode:"default"});return d&&(p+1===s-1?v.push({isActive:e===p+1,page:p+1,params:i(p+1),query:o(p+1),mode:"default"}):a&&p+1!==s&&v.push({page:p+1,params:i(p+1),query:o(p+1),mode:"dots"}),v.push({page:s,isActive:s===e,params:i(s),query:o(s),mode:"default"})),u&&v.push({page:e+1,params:i(e+1),query:o(e+1),mode:"right"}),v}},60041:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var i=n(73696),o=n(37667),r=n(5099),a=n.n(r);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const l=({id:e,isSmooth:t=!0,blockMargin:n=0})=>{if(!e)return a();return(0,o.useCallback)((()=>{const o=document.getElementById(e);if(!o)return;const{top:r}=o.getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop;window.scroll(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({top:r+a-72+n},t?{behavior:"smooth"}:{}))}),[e,72])}},94755:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var i=n(12583),o=n(37667),r=n.n(o),a=n(9684);const s=({trailerId:e,movieId:t})=>{const n=(0,i.useDispatch)();return r().useCallback((()=>{e&&t&&n((0,a.M)({trailerId:e,filmId:t}))}),[e,t])}},9684:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var i=n(92286);let o;!function(e){e.Show="trailer/show"}(o||(o={}));const r=(0,i.PH)(o.Show)},79547:function(e,t,n){"use strict";n.d(t,{R$:function(){return s}});var i=n(81278),o=n(9684);function*r({payload:{filmId:e,trailerId:t}}){var n,o,r;const a=null===(n=window.Ya)||void 0===n||null===(o=n.Kinopoisk)||void 0===o||null===(r=o.Widgets)||void 0===r?void 0:r.discovery;a&&(yield(0,i.call)({fn:a.open,context:a},{filmId:e,options:{trailerId:t}}))}const a=[function*(){yield(0,i.takeEvery)(o.M.type,r)}],s=()=>[{id:"trailer",sagas:a}]},58164:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lists/movies",function(){return n(6722)}])},58503:function(e){e.exports={root:"styles_root__VdzUg"}},68299:function(e){e.exports={root:"styles_root__UeIta",button:"styles_button__3dBmr",bold:"styles_bold__BehKN",thin:"styles_thin__zGEcp",buttonOpened:"styles_buttonOpened__10pTB",buttonDisabled:"styles_buttonDisabled__y5rpH",buttonCaption:"styles_buttonCaption__woeen",flex:"styles_flex__wStQl",dropdown:"styles_dropdown__8JVlb",rootFullWidth:"styles_rootFullWidth__hpaZe"}},82208:function(e){e.exports={root:"styles_root__hEsEp",rootSmall:"styles_rootSmall__bemVx"}},36411:function(e){e.exports={root:"styles_root__JXc__",rootSmall:"styles_rootSmall__k4IlS"}},36009:function(e){e.exports={skeleton:"styles_skeleton__4zaRM"}},14856:function(e){e.exports={root:"styles_root__ti07r",rightBorder:"styles_rightBorder__GWi9R",watched:"styles_watched__GyNVg",main:"styles_main__Y8zDm",mainWithBeforeSlot:"styles_mainWithBeforeSlot__JnO7X",mainWithNotCollapsedBeforeSlot:"styles_mainWithNotCollapsedBeforeSlot__x4cWo",content:"styles_content__nT2IG",user:"styles_user__2wZvH",upper:"styles_upper__j8BIs",rating:"styles_rating__LU3_x",rootSmall:"styles_rootSmall__ABVE5",contentSmall:"styles_contentSmall___0PLs",userSmall:"styles_userSmall__oArjC",bottomContentSmall:"styles_bottomContentSmall__vaqCH"}},87919:function(e){e.exports={boxOfficesButton:"styles_boxOfficesButton__dgxQ3",boxOfficesLeft:"styles_boxOfficesLeft__yG_9_"}},49175:function(e){e.exports={boxOfflineAudienceBottom:"styles_boxOfflineAudienceBottom__fs_Ab",boxOfflineAudienceLeft:"styles_boxOfflineAudienceLeft__rQWTn"}},82141:function(e){e.exports={profitability:"styles_profitability__2rX8J"}},53150:function(e){e.exports={poster:"styles_poster__gJgwz"}},76490:function(e){e.exports={poster:"styles_poster__caQ8y",boxOffice:"styles_boxOffice__1Bpqs"}},3742:function(e){e.exports={poster:"styles_poster__DKG9K",boxOfflineAudienceBottom:"styles_boxOfflineAudienceBottom__7EpXI"}},81799:function(e){e.exports={poster:"styles_poster__3zNjH"}},84339:function(e){e.exports={poster:"styles_poster__hHHOf"}},10428:function(e){e.exports={poster:"styles_poster__NjikW",profitability:"styles_profitability__qlynd"}},37556:function(e){e.exports={poster:"styles_poster__MEpf5"}},22056:function(e){e.exports={secondaryInfo:"desktop-list-main-info_secondaryInfo__rzK7S",additionalInfo:"desktop-list-main-info_additionalInfo__Hqzof",secondaryText:"desktop-list-main-info_secondaryText__M_aus",truncatedText:"desktop-list-main-info_truncatedText__IMQRP",availabilityAnnounce:"desktop-list-main-info_availabilityAnnounce__hnaN9"}},29939:function(e){e.exports={root:"styles_root__ua1NN",caption:"styles_caption__Kn267",value:"styles_value___58ZH",rootSmall:"styles_rootSmall__tUxdp",captionSmall:"styles_captionSmall__tQz5u",valueSmall:"styles_valueSmall__mP7Fa"}},2038:function(e){e.exports={root:"styles_root__AdiHK",rootSmall:"styles_rootSmall__pTUmD"}},86534:function(e){e.exports={root:"styles_root__j_C_S",position:"styles_position__TDe4E",diff:"styles_diff__vjF_8",positive:"styles_positive__JjZvH",negative:"styles_negative__mgLxq"}},7194:function(e){e.exports={root:"styles_root__Lk3q3",resetButton:"styles_resetButton__1BuU5",removeFilmText:"styles_removeFilmText__nhgpo"}},10821:function(e){e.exports={root:"styles_root__kOsHm",day:"styles_day__1UOij",month:"styles_month__NfcIK",year:"styles_year__xeONA",empty:"styles_empty__40j4B",rootSmall:"styles_rootSmall___vsMg"}},41923:function(e){e.exports={root:"styles_root__POHZU",bordered:"styles_bordered__Y3kj6",heading:"styles_heading__djRMl",body:"styles_body__R3Nqc"}},29392:function(e){e.exports={root:"styles_root__omMgy",active:"styles_active__mCHvQ",disabled:"styles_disabled__VYDrH"}},62405:function(e){e.exports={header:"styles_header__55cTf"}},7085:function(e){e.exports={buttonReset:"styles_buttonReset__NWZ1u",button:"styles_button__fE6jo styles_buttonReset__NWZ1u",buttonTitle:"styles_buttonTitle__amo8f",buttonItem:"styles_buttonItem___HIWZ",icon:"styles_icon___MMn8",list:"styles_list__L3n1U"}},39216:function(e){e.exports={root:"styles_root__QAjAL",withButtons:"styles_withButtons__3Zomo",userActionButton:"styles_userActionButton__64Ax_"}},48712:function(e){e.exports={root:"styles_root__yEgpj",rootShow:"styles_rootShow__NAB2s",inner:"styles_inner__ntDDG",image:"styles_image__n2pOH",content:"styles_content__EhRUc"}},87245:function(e){e.exports={root:"styles_root__AT6_5",page:"styles_page__zbGy7",active:"styles_active__fPiyK",smaller:"styles_smaller__SzWsn",start:"styles_start__UvE6T",end:"styles_end__aEsmB styles_start__UvE6T",compactPages:"styles_compactPages__japwN"}},62386:function(e){e.exports={closeButton:"styles_closeButton__EwKCz",content:"styles_content__FAAZt",trailer:"styles_trailer__k14DT",body:"styles_body__Ky1nd"}},32038:function(e){e.exports={removeIcon:"styles_removeIcon__Duztx",filter:"styles_filter__H2ejo",removeIconSmall:"styles_removeIconSmall__2bOzT"}},93227:function(e){e.exports={root:"styles_root__goB3B",headerContainer:"styles_headerContainer__3KSNh",baseContainer:"styles_baseContainer__bGRTT",middleContainer:"styles_middleContainer__vJjLN styles_baseContainer__bGRTT",mainContainer:"styles_mainContainer__59YLl",mainContainerWithoutSidebar:"styles_mainContainerWithoutSidebar__H22cf",topbarSlot:"styles_topbarSlot__aXY_D",sidebarSlot:"styles_sidebarSlot__7_4eF",contentSlot:"styles_contentSlot__h_lSN",sticky:"styles_sticky__pWqAL",footerContainer:"styles_footerContainer__UdQHs styles_baseContainer__bGRTT"}},49965:function(e){e.exports={root:"styles_root__KIenM",description:"styles_description__FEk94",textWrapper:"styles_textWrapper___VeYU",title:"styles_title__jB8AZ"}},36686:function(e){e.exports={notifyTooltip:"styles_notifyTooltip___jB7B",promoPopover:"styles_promoPopover__QZb7t"}},35463:function(e){e.exports={root:"styles_root__nE_ni",breadcrumbs:"styles_breadcrumbs__p7eHZ",link:"styles_link__5qIUj"}},24567:function(e){e.exports={root:"styles_root__OQKwo",linkContainer:"styles_linkContainer__bU_1e",link:"styles_link__dna_9"}},51551:function(e){e.exports={root:"styles_root__cTkbE",checked:"styles_checked__0WTaa",disabled:"styles_disabled__sjxXw",input:"styles_input__ttthV",caption:"styles_caption__G0ivc"}},98293:function(e){e.exports={select:"styles_select__5bQ7Z",selectButton:"styles_selectButton__4xHt7",selectDropdown:"styles_selectDropdown__I8qLC",selectDropdownAbove:"styles_selectDropdownAbove__MgLFn",selectDropdownVisible:"styles_selectDropdownVisible__mwz9Q"}},66803:function(e){e.exports={root:"styles_root__c0Hko",heading:"styles_heading__F1VCE",text:"styles_text__B4AGk",button:"styles_button__XukL4"}},29095:function(e){e.exports={listSuperBanner:"styles_listSuperBanner__rro4V"}},63323:function(e){e.exports={dropdown:"styles_dropdown__rAhFk"}},24740:function(e){e.exports={root:"styles_root__RoFSb",rootSmall:"styles_rootSmall__FI7ob"}},71474:function(e){e.exports={root:"styles_root__U2ine",text:"styles_text__j_cs3",bar:"styles_bar____KOm",progress:"styles_progress__vGQsn",noProgress:"styles_noProgress__ePFBi",skeletonRoot:"styles_skeletonRoot__BmePQ"}},88519:function(e){e.exports={descriptionReadMore:"styles_descriptionReadMore__bOjPQ"}},69493:function(e){e.exports={filterDropdown:"styles_filterDropdown__ZITT6",filterSmall:"styles_filterSmall__OMG1B",filterDropdownSmall:"styles_filterDropdownSmall__9315c"}},19820:function(e){e.exports={root:"styles_root__aRjzv",scrollable:"styles_scrollable__6xyzo",rightSlot:"styles_rightSlot__Fqmxo"}},34775:function(e){e.exports={list:"styles_list__41Dj6",noWrap:"styles_noWrap__2140x",wrap:"styles_wrap__Y_qDN",frozen:"styles_frozen__tk4Ut"}},25882:function(e){e.exports={icon:"styles_icon__MvyRR"}},87065:function(e){e.exports={root:"styles_root__Vkkwj",description:"styles_description__8bthe",top:"styles_top__51gA0",title:"styles_title__QK4Un",onlyTitle:"styles_onlyTitle__bCDku"}},80939:function(e){e.exports={sort:"styles_sort__rVMWM",topBar:"styles_topBar__TrvKx"}},5818:function(e){e.exports={root:"styles_root__8xOeB",link:"styles_link__i30Es"}}},function(e){e.O(0,[7964,3884,5366,2012,2609,2762,9309,1943,3128,8018,1643,3312,276,7257,9774,2888,179],(function(){return t=58164,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/pages/lists/movies-0593196263eb256c.js.map