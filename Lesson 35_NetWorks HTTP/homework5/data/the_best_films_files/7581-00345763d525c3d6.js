(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{99242:function(e,t,o){"use strict";o.d(t,{m:function(){return s.m}});var s=o(58053)},71347:function(e,t,o){"use strict";o.d(t,{_:function(){return B}});var s=o(73696),l=o(29228),i=(o(37667),o(73113)),r=o(89413),n=o(9749),a=o(60289);var c=o(78273),p=o.n(c),d=o(72581),m=o(59913),u=o(14976),_=o(76290),v=o(91942),h=o(69834),k=o(3559),S=o.n(k),y=o(79309),f=o(83605);const w={[m.BlocksColorSchemes.Light]:S().rootInLight,[m.BlocksColorSchemes.Grey]:S().rootInLight,[m.BlocksColorSchemes.Dark]:S().rootInDark},g=({className:e,posterSrcSet:t,posterHref:o,captionHref:s,title:l,subtitle:i,movieId:r,routeName:n,colorScheme:a=m.BlocksColorSchemes.Light,overlaySlot:c,viewportSize:k,handleMouseOver:g,handleMouseLeave:P,onPosterClick:b,onCaptionClick:C,onTitleContentMouseEnter:B,onTitleContentMouseLeave:H,setElementRef:x,isPersonalRecommendation:N=!1,isTitleRedesign:L=!1,posterViewVariant:j=y.C.Default,isClientRouting:z=!1})=>{const O=k===d.ViewportSizes.Small,T=j===y.C.HdBlock,R=j===y.C.w100h150,M=j===y.C.BlackTitle,I=j===y.C.TopCarousel;return(0,f.jsxs)("div",{className:p()(e,S().root,w[a],I&&S().rootTopCarousel),onMouseOver:g,onFocus:g,onMouseLeave:P,onBlur:P,ref:x,"data-tid":"67feb64f",children:[(0,f.jsxs)("div",{className:S().posterWrapper,children:[(0,f.jsx)(_.A,{routeName:n,params:{id:r},href:o,className:p()(S().posterLink,{[S().posterLinkSmall]:O,[S().posterLinkTopSmall]:O&&I,[S().posterLinkHdBlock]:T,[S().posterLinkHdBlockSmall]:T&&O}),serverRouting:!z,prefetch:!1,onClick:b,children:(0,f.jsx)("img",{src:t.x1,srcSet:(0,v.m)({x1:t.x1,x2:t.x2||""}),className:p()(S().poster,{[S().posterSmall]:O,[S().posterH150]:R,[S().posterHdBlock]:T,[S().posterHdBlockSmall]:T&&O,[S().posterTopSmall]:O&&I}),loading:"lazy",alt:l||void 0})}),(0,f.jsx)("div",{className:S().overlaySlot,children:c})]}),(l||i)&&(0,f.jsxs)(_.A,{routeName:n,params:{id:r},href:s,className:S().captions,serverRouting:!z,prefetch:!1,onClick:C,children:[N&&(0,f.jsx)("span",{className:S().iRecommendBadge,children:h.Z.iRecommendBadge}),(0,f.jsx)("span",{className:p()(S().title,{[S().titleSmall]:O,[S().titleRedesign]:L,[S().titleTopCarouselSmall]:I&&O,[S().titleBlack]:M}),children:(0,f.jsx)(u.c,{maxLines:2,children:(0,f.jsx)("span",{onMouseEnter:B,onMouseLeave:H,children:l})})}),(0,f.jsx)("span",{className:p()(S().subtitle,{[S().subtitleSmall]:O}),children:(0,f.jsx)(u.c,{maxLines:1,children:i})})]})]})},P=["onPosterClick","onCaptionClick"];function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function C(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(Object(o),!0).forEach((function(t){(0,s.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const B=(0,i.XM)("filmPoster",(({position:e,movieId:t,title:o})=>{const s={};return t&&(s.filmId=t),e&&(s.position=e),o&&(s.title=o),C({},s)}))((e=>{let{onPosterClick:t,onCaptionClick:o}=e,s=(0,l.Z)(e,P);const{setElementRef:i}=(0,r.F)(),c=(0,n.U)("report-poster-click"),p=(0,a.rK)([t,c]),d=(0,n.U)("report-poster-caption-click"),m=(0,a.rK)([o,d]);return(0,f.jsx)(g,C(C({},s),{},{onCaptionClick:m,onPosterClick:p,setElementRef:i}))}))},37581:function(e,t,o){"use strict";o.d(t,{N:function(){return j}});var s=o(37667),l=o(78273),i=o.n(l),r=o(12583),n=o(59913),a=o(49626),c=o(69273),p=o(72581),d=o(54772),m=o(31383),u=o(65768),_=o(4706),v=o.n(_),h=o(83605);const k=({className:e})=>(0,h.jsx)("div",{className:i()(v().root,e),"data-tid":"fbf681e",children:u.F.isWatched});var S=o(99242),y=o(12012),f=o(5274),w=o(13278),g=o(89605),P=o.n(g);const b=({movie:e,isNameplateSmall:t,isPosterHovered:o,useLink:s=!0,fromBlock:l,viewportSize:r,isDisplayedForPurchased:n=!0,sizes:c,location:p})=>{var d,m,u,_,v,g,b,C;const B=p===a.lc.HdBlock,{isMoviePlayInIframeOnKPEnabled:H}=(0,w.p)();return(0,h.jsxs)(h.Fragment,{children:["number"===typeof(null===(d=e.userData)||void 0===d||null===(m=d.voting)||void 0===m?void 0:m.value)&&(0,h.jsx)(k,{}),(0,h.jsx)(S.m,{className:i()(P().ratingPosterNameplate,B&&P().ratingPosterNameplateHdBlock),rating:e.rating,top250Position:e.top250Position,viewportSize:r,sizes:c}),(0,h.jsx)("span",{className:i()(P().nameplate,{[P().nameplateSmall]:t,[P().nameplateNotClickable]:!s,[P().nameplateHdBlock]:B}),"data-tid":"e51e848f",children:(0,h.jsx)(a.UO,{type:null===(u=e.viewOption)||void 0===u?void 0:u.type,subscriptionPurchaseTag:null===(_=e.viewOption)||void 0===_?void 0:_.subscriptionPurchaseTag,isCollapsed:!o,text:null===(v=e.viewOption)||void 0===v?void 0:v.buttonText,isPurchased:(null===(g=e.viewOption)||void 0===g?void 0:g.purchasabilityStatus)===f.gY.Purchased,isDisplayedForPurchased:n,isAvailableOnline:Boolean(null===(b=e.viewOption)||void 0===b?void 0:b.isAvailableOnline),url:(0,y.getWatchFilmUrl)(e.id,{fromBlock:l,shouldWatchImmediately:(null===(C=e.viewOption)||void 0===C?void 0:C.purchasabilityStatus)===f.gY.Purchased,isPlayInIframe:H}),sizes:c,location:p})})]})};var C=o(79309),B=o(71347),H=o(25913),x=o(3190),N=o(551),L=o.n(N);const j=({movie:e,className:t,colorScheme:o,renderOverlay:l,viewportSize:u,index:_,onMouseOver:v,onMouseLeave:k,onTitleContentMouseEnter:S,onTitleContentMouseLeave:y,isTitleRedesign:f,fromBlock:w,isDisplayedForPurchased:g=!0,posterViewVariant:P=C.C.Default,isClientRouting:N,getPageRoutesName:j})=>{var z,O,T,R,M,I,D;const E=(0,m.T)({typename:e.__typename,id:e.id});let F;j&&(F=j(e.__typename));const W=u===p.ViewportSizes.Small,U=(0,r.useSelector)(d.IZ),V=Boolean(null===(z=e.viewOption)||void 0===z?void 0:z.posterWithRightholderLogo),A=V?null===(O=e.viewOption)||void 0===O?void 0:O.posterWithRightholderLogo:null===(T=e.poster)||void 0===T?void 0:T.avatarsUrl;let Y=n.PosterSize.w140h210;P===C.C.w100h150&&(Y=n.PosterSize.w100h150),P===C.C.HdBlock&&(Y=n.PosterSize.w220h330),P===C.C.HdBlock&&W&&(Y=n.PosterSize.w268h402);const K=(0,x.L)(Y,V),Z=(0,c.Q)(A,{mds:K}),{0:G,1:Q}=(0,s.useState)(!1),X=(0,s.useCallback)((e=>{Q(!0),v&&v(e)}),[v]),q=(0,s.useCallback)((e=>{Q(!1),k&&k(e)}),[k]),J=(0,s.useMemo)((()=>({isSmall:t,isPosterHovered:o,isAuthorized:s})=>(0,h.jsx)(b,{useLink:!t||s,isNameplateSmall:t,isPosterHovered:o,movie:e,fromBlock:w,viewportSize:u,isDisplayedForPurchased:g,sizes:ee?a.UM.Lg:void 0,location:ee?a.lc.HdBlock:void 0})),[e]),$=P===C.C.w100h150,ee=P===C.C.HdBlock;return(0,h.jsx)(B._,{movieId:e.id,routeName:F,position:void 0!==_?_+1:void 0,posterSrcSet:Z,title:e.title.russian||e.title.original,posterHref:e.posterUrl||E,captionHref:E,subtitle:(0,H.P)(e.productionYear||(null===e||void 0===e||null===(R=e.releaseYears)||void 0===R||null===(M=R[0])||void 0===M?void 0:M.start),null===(I=e.genres)||void 0===I||null===(D=I[0])||void 0===D?void 0:D.name),className:i()(t,L().poster,{[L().posterSmall]:W,[L().posterW100]:$,[L().posterHdBlock]:ee,[L().posterHdBlockSmall]:ee&&W}),isPersonalRecommendation:"isPersonalRecommendation"in e&&e.isPersonalRecommendation,colorScheme:o,handleMouseOver:X,handleMouseLeave:q,viewportSize:u,overlaySlot:(l||J)({isSmall:W,isPosterHovered:G,isAuthorized:U,movie:e}),onTitleContentMouseEnter:S,onTitleContentMouseLeave:y,isTitleRedesign:f,posterViewVariant:P,isClientRouting:N})}},25913:function(e,t,o){"use strict";o.d(t,{P:function(){return s}});const s=(e,t)=>{if(e||t)return[e,t].filter((e=>Boolean(e))).join(", ")}},3190:function(e,t,o){"use strict";o.d(t,{L:function(){return a}});var s=o(15449),l=o(19806),i=o(59913);const r={[i.PosterSize.w100h150]:[s.z.w100h150,l.b.w100h150],[i.PosterSize.w140h210]:[s.z.w140h210,l.b.w140h210],[i.PosterSize.w220h330]:[s.z.w220h330,l.b.w220h330],[i.PosterSize.w268h402]:[s.z.w268h402,l.b.w268h402]},n={[i.PosterSize.w100h150]:[s.z.w200h300,l.b.w200h300],[i.PosterSize.w140h210]:[s.z.w280h420,l.b.w280h420],[i.PosterSize.w220h330]:[s.z.w440h660,l.b.w440h660],[i.PosterSize.w268h402]:[s.z.w536h804,l.b.w536h804]};function a(e,t){return{x1:r[e][Number(t)],x2:n[e][Number(t)]}}},4706:function(e){e.exports={root:"styles_root__ypxFY"}},3559:function(e){e.exports={root:"styles_root__H9wyL",posterLink:"styles_posterLink__Xjqyr",rootTopCarousel:"styles_rootTopCarousel__b1b96",posterLinkHdBlock:"styles_posterLinkHdBlock__uaCvV",poster:"styles_poster__OaXTW",posterH150:"styles_posterH150__Dc3jv",posterHdBlock:"styles_posterHdBlock__Nxh7v",captions:"styles_captions__9Azea",title:"styles_title__5zsyx",subtitle:"styles_subtitle__uUTJR",rootInLight:"styles_rootInLight__tvUQc",titleRedesign:"styles_titleRedesign__2M5hT",titleBlack:"styles_titleBlack__QrTjD",rootInDark:"styles_rootInDark__mbaIi",posterWrapper:"styles_posterWrapper__mGsxF",overlaySlot:"styles_overlaySlot__w5RKJ",iRecommendBadge:"styles_iRecommendBadge__oVimZ",titleSmall:"styles_titleSmall__QKpgF",subtitleSmall:"styles_subtitleSmall__dq1Xj",titleTopCarouselSmall:"styles_titleTopCarouselSmall__owpRU",posterLinkSmall:"styles_posterLinkSmall__dIcof",posterLinkTopSmall:"styles_posterLinkTopSmall__tN2b8",posterLinkHdBlockSmall:"styles_posterLinkHdBlockSmall__jxpin",posterSmall:"styles_posterSmall__dvdUB",posterTopSmall:"styles_posterTopSmall__a1Ha3",posterHdBlockSmall:"styles_posterHdBlockSmall__N_srb"}},89605:function(e){e.exports={nameplate:"styles_nameplate___D4NG",nameplateSmall:"styles_nameplateSmall__vmCfF",nameplateHdBlock:"styles_nameplateHdBlock__NtMm5",nameplateNotClickable:"styles_nameplateNotClickable__ciPlf",ratingPosterNameplate:"styles_ratingPosterNameplate__inf1V",ratingPosterNameplateHdBlock:"styles_ratingPosterNameplateHdBlock__Eztxj",rightholderLogo:"styles_rightholderLogo__fPhjm"}},551:function(e){e.exports={poster:"styles_poster__w55sL",posterW100:"styles_posterW100__tnfY9",posterHdBlock:"styles_posterHdBlock__Hpa8Y",posterSmall:"styles_posterSmall__3vsNR",posterHdBlockSmall:"styles_posterHdBlockSmall__fhM7G"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/7581-00345763d525c3d6.js.map