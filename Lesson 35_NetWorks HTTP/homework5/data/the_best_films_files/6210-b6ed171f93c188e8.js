(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6210],{16651:function(e,t,i){"use strict";i.d(t,{F:function(){return n.F}});var n=i(90238)},92952:function(e,t,i){"use strict";i.d(t,{_:function(){return l}});var n=i(37667),r=i(12583),a=i(5274),o=i(59913),s=i(41108);const l=({entityType:e=a.vy.Film,colorScheme:t})=>{const i=(0,r.useDispatch)();return{handleOpenPopover:(0,n.useCallback)((({clientX:n,clientY:r},a)=>{i((0,s.Yc)({startPosition:{x:n,y:r},contentEntityId:a,colorScheme:t||o.ElementColorSchemes.Light,entityType:e}))}),[i,e,t]),handleClosePopover:(0,n.useCallback)((()=>{i((0,s.e4)())}),[i])}}},65205:function(e,t,i){"use strict";i.d(t,{kC:function(){return o},X0:function(){return s},On:function(){return l},wR:function(){return c}});var n=i(46942),r=i(767);const a=e=>e[r.S],o=(0,n.P1)(a,(({startPosition:e})=>e)),s=(0,n.P1)(a,(({contentEntityId:e})=>e)),l=(0,n.P1)(a,(({colorScheme:e})=>e)),c=(0,n.P1)(a,(({entityType:e})=>e))},59747:function(e,t,i){"use strict";i.d(t,{Em:function(){return ze},$b:function(){return ye},C4:function(){return Ae},xP:function(){return s},u:function(){return He},LZ:function(){return Ke}});var n=i(12583),r=i(89987),a=i(65205),o=i(83605);const s=({moviePreviewCardRenderer:e,personPreviewCardRenderer:t})=>{const i=(0,n.useSelector)(a.kC),s=(0,n.useSelector)(a.X0),l=(0,n.useSelector)(a.wR);let c;if(!s)return null;switch(l){case"Film":case"TvSeries":case"TvShow":case"Video":case"MiniSeries":c=e&&e(s);break;case"Person":c=t&&t(s);break;default:return null}return c?(0,o.jsx)(r.RI,{startPosition:i,children:c}):null};var l=i(73696),c=i(78273),d=i.n(c),u=i(72581),m=i(59913),v=i(16651),k=i(37667),_=i(6140);const p=({productionYear:e,movieStartYear:t,movieEndYear:i,className:n})=>{const r=(0,k.useMemo)((()=>e||(t?(0,_.h)({start:t,end:i,delimiter:"\u2013"}):null)),[e,t,i]);return r?(0,o.jsx)("span",{className:n,"data-tid":"f799ec1d",children:r}):null};var y=i(98814),h=i.n(y);function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){(0,l.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const b=({title:e,originTitle:t,year:i,className:n,colorScheme:r,url:a})=>{const s=r===m.ElementColorSchemes.Dark;return(0,o.jsxs)("div",{className:d()(n,h().root),"data-tid":"f37644d0",children:[(0,o.jsx)("h3",{className:d()(h().movieTitle,s&&h().movieTitleDark),children:a?(0,o.jsx)("a",{href:a,className:d()(h().movieTitleLink,s&&h().movieTitleLinkDark),children:e}):e}),(0,o.jsxs)("div",{className:d()(h().subtitle,s&&h().subtitleDark),children:[t&&(0,o.jsx)("span",{className:h().originMovieTitle,children:t}),(0,o.jsx)(p,g({className:h().year},i))]})]})};var S=i(44235),N=i(19765),D=i(75265),j=i(71960),O=i.n(j);const x=({id:e,name:t,className:i,colorScheme:n})=>{const r=(0,k.useMemo)((()=>N._.getUrl(D.N.PersonPage,{id:e})),[e]);return(0,o.jsx)("a",{href:r,className:d()(i,O().root,{[O().rootDark]:n===m.ElementColorSchemes.Dark}),"data-tid":"53907fd0",children:t},e)},w="\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u043c",C="\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043d\u0435\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u043c",F="\u0412 \u0433\u043b\u0430\u0432\u043d\u044b\u0445 \u0440\u043e\u043b\u044f\u0445:",P="\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440:",L="\u041b\u0443\u0447\u0448\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:",I="\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",T="\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0435\u0439 \u0443 \u043d\u0430\u0441 \u043d\u0435\u0442",M="\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c",E="\u041d\u0435 \u0431\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c";var B=i(53494),V=i.n(B);const R=({actors:e,directors:t,className:i,colorScheme:n})=>{const r=n===m.ElementColorSchemes.Dark;return(0,o.jsxs)("div",{className:d()(i,V().root),"data-tid":"54da1950",children:[null!==e&&void 0!==e&&e.length?(0,o.jsxs)("div",{className:d()(V().roles,{[V().rolesDark]:r,[V().rolesWithoutDirectors]:!(null!==t&&void 0!==t&&t.length)}),children:[(0,o.jsx)("span",{className:d()(V().rolesTitle,{[V().rolesTitleDark]:r}),children:F}),(0,o.jsx)(S.N,{children:e.map((({id:e,name:t,originalName:i})=>(0,o.jsx)(x,{id:e,name:t||i||"",className:d()(V().actorName,{[V().actorNameDark]:r}),colorScheme:n},e)))})]}):null,null!==t&&void 0!==t&&t.length?(0,o.jsxs)("div",{className:d()(V().directors,{[V().directorsDark]:r,[V().directorsWithoutRoles]:!(null!==e&&void 0!==e&&e.length)}),children:[(0,o.jsx)("span",{className:d()(V().directorsTitle,{[V().directorsTitleDark]:r}),children:P}),(0,o.jsx)(S.N,{children:t.map((({id:e,name:t,originalName:i})=>(0,o.jsx)(x,{id:e,name:t||i||"",className:d()(V().directorName,{[V().directorNameDark]:r}),colorScheme:n},e)))})]}):null]})};var A=i(24374),U=i(58686),H=i.n(U);const Z=(0,A.i)(H());var W=i(20275),q=i(29228),Y=i(5099),K=i.n(Y),Q=i(42027),G=i(26789),$=i.n(G);const z=(0,A.i)($());var X=i(60289),J=i(23096),ee=i.n(J);const te=({classname:e,onApply:t,onCancel:i})=>(0,o.jsxs)("div",{className:d()(e,ee().root,"ignore-react-onclickoutside"),"data-tid":"2bc088d0",children:[(0,o.jsx)("p",{className:ee().text,children:"\u0412\u0430\u0448\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441\xa0\u043e\u0442\u043c\u0435\u0442\u043a\u043e\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430"}),(0,o.jsxs)("div",{className:ee().controls,children:[(0,o.jsx)("button",{className:ee().cancelButton,onClick:i,type:"button",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,o.jsx)("button",{className:ee().applyButton,onClick:t,type:"button",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]});var ie=i(49835),ne=i.n(ie);const re=["isFilmWatched","buttonText","onWatch","onUnwatch","hasUserRating","colorScheme"];function ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function oe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(i),!0).forEach((function(t){(0,l.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}(0,Q.i)(ne());const se=e=>{let{isFilmWatched:t,buttonText:i,onWatch:n=K(),onUnwatch:r=K(),hasUserRating:a,colorScheme:s}=e,l=(0,q.Z)(e,re);const c=(0,k.useCallback)((e=>{if(t)return a?void e():void r();n()}),[t,a]);return(0,o.jsx)("div",{className:ne().root,"data-tid":"c8f93a05",children:(0,o.jsx)(X.u,{children:(e,n)=>(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)(te,{classname:ne().warningPopUp,onApply:()=>{r(),e()},onCancel:e}),(0,o.jsx)(z,oe(oe({},l),{},{colorScheme:s,isActive:t,onClick:()=>c(e),tooltipText:t?C:w,children:i}))]})})})};var le=i(36929),ce=i.n(le);function de(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ue(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?de(Object(i),!0).forEach((function(t){(0,l.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):de(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const me=({userControls:{onWatch:e,onUnwatch:t,onFolderButtonClick:i,onFolderButtonToggleOn:n,onFolderButtonToggleOff:r},userRating:{isFilmWatched:a,hasUserRating:s,isActive:l},colorScheme:c=m.ElementColorSchemes.Light,buyButtons:v,className:k,movieInFavoriteFolder:_})=>(0,o.jsxs)("div",{className:d()(k,ce().root),"data-tid":"207dfc10",children:[((null===v||void 0===v?void 0:v.onlineLink)||(null===v||void 0===v?void 0:v.afishaLink))&&(0,o.jsx)(W.z,ue({onlineButtonClassName:d()(ce().onlineButton,(null===v||void 0===v?void 0:v.accessType)===u.OnlineViewOptionsType.subscription&&ce().onlineButtonPlus),afishaButtonClassName:ce().ticketsButton,colorScheme:c,className:ce().buyButtons},v)),(0,o.jsx)(Z,{colorScheme:c,className:ce().favoriteButton,onClick:i,onToggleOn:n,onToggleOff:r,isActive:_,tooltipText:_?E:M}),l&&(0,o.jsx)(se,{onWatch:e,onUnwatch:t,isFilmWatched:a,hasUserRating:s,className:ce().watchedButton,colorScheme:c})]});var ve=i(87563),ke=i.n(ve);function _e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function pe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(i),!0).forEach((function(t){(0,l.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_e(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const ye=({posterWithRating:e,mainInfo:t,additionalInfo:i,userControls:n,userRating:r,className:a,colorScheme:s=m.ElementColorSchemes.Light,buyButtons:l,movieInFavoriteFolder:c})=>(0,o.jsxs)("div",{className:d()(a,ke().root,{[ke().rootDark]:s===m.ElementColorSchemes.Dark}),"data-tid":"d781af0",children:[(0,o.jsxs)("div",{className:ke().contentWrapper,children:[(0,o.jsx)(v.F,pe(pe({},e),{},{className:ke().poster,ratingClassName:ke().rating,size:u.Sizes.s})),(0,o.jsx)(b,pe({colorScheme:s,className:d()(ke().mainInfo)},t)),(0,o.jsx)(R,pe(pe({},i),{},{colorScheme:s,className:ke().additionalInfo}))]}),(0,o.jsx)(me,{userControls:n,userRating:r,buyButtons:l,colorScheme:s,className:ke().userControls,movieInFavoriteFolder:c})]});var he=i(32753),fe=i(688),ge=i.n(fe);const be=({name:e,url:t,roles:i,className:n,colorScheme:r})=>{const a=r===m.ElementColorSchemes.Dark;return(0,o.jsxs)("div",{className:d()(n,ge().root),"data-tid":"6e004ad0",children:[(0,o.jsx)("div",{className:ge().title,children:(0,o.jsx)("h3",{className:d()(ge().name,a&&ge().nameDark),children:t?(0,o.jsx)("a",{href:t,className:d()(ge().nameLink,a&&ge().nameLinkDark),children:e}):e})}),(0,o.jsx)("div",{className:d()(ge().subtitle,a&&ge().subtitleDark),children:null!==i&&void 0!==i&&i.length?i.map((e=>(0,o.jsx)("span",{className:ge().role,"data-tid":"9a039d71",children:e},e))):null})]})};var Se=i(47165),Ne=i(5274),De=i(91484),je=i.n(De);const Oe=({id:e,title:t,movieType:i,className:n,colorScheme:r})=>{const a=(0,k.useMemo)((()=>N._.getUrl(i===Ne.vy.Film?Se.f.FilmPage:Se.f.TvSeriesPage,{id:e})),[e]);return(0,o.jsx)("a",{href:a,className:d()(n,je().root,{[je().rootDark]:r===m.ElementColorSchemes.Dark}),"data-tid":"c49fca50",children:t},e)};var xe=i(97057),we=i.n(xe);const Ce=({className:e,children:t,colorScheme:i})=>(0,o.jsx)("div",{className:d()(e,we().root,i===m.ElementColorSchemes.Dark&&we().rootDark),"data-tid":"d0777cd0",children:t});var Fe=i(8418),Pe=i.n(Fe);const Le=({bestMovies:e,colorScheme:t,className:i})=>{const n=t===m.ElementColorSchemes.Dark;return(0,o.jsx)("div",{className:d()(i,Pe().root,n&&Pe().rootDark),"data-tid":"c4bb0090",children:null!==e&&void 0!==e&&e.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:d()(Pe().bestMoviesTitle,n&&Pe().bestMoviesTitleDark),children:L}),(0,o.jsx)("span",{className:d()(Pe().bestMoviesLinks),children:e.map((({id:e,title:i,movieType:r})=>(0,o.jsx)(Oe,{id:e,title:i||"",movieType:r,className:d()(Pe().bestMovieTitle,n&&Pe().bestMovieTitleDark),colorScheme:t},e)))})]}):(0,o.jsx)(Ce,{colorScheme:t,children:T})})};var Ie=i(70815),Te=i.n(Ie);const Me=({subscribeLink:e,className:t,colorScheme:i})=>(0,o.jsx)("a",{href:e,className:d()(t,Te().root,{[Te().rootDark]:i===m.ElementColorSchemes.Dark}),"data-tid":"f24b26d0",children:I});var Ee=i(88368),Be=i.n(Ee);function Ve(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Re(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(i),!0).forEach((function(t){(0,l.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ve(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Ae=({id:e,poster:t,mainInfo:i,additionalInfo:n,className:r,colorScheme:a})=>{const s=(0,k.useMemo)((()=>N._.getUrl(D.N.PersonSubscribePage,{id:e})),[e]);return(0,o.jsxs)("div",{className:d()(r,Be().root,{[Be().rootDark]:a===m.ElementColorSchemes.Dark}),"data-tid":"ce6bac10",children:[(0,o.jsxs)("div",{className:Be().contentWrapper,children:[(0,o.jsx)(he.f,Re({colorScheme:a,className:Be().poster},t)),(0,o.jsx)(be,Re({colorScheme:a,className:Be().mainInfo},i)),(0,o.jsx)(Le,Re(Re({},n),{},{colorScheme:a,className:Be().additionalInfo}))]}),(0,o.jsx)(Me,{subscribeLink:s,className:Be().subscribeButton,colorScheme:a})]})};var Ue=i(92952);const He=({entityType:e,colorScheme:t,initiatorRenderer:i})=>{const{handleOpenPopover:n,handleClosePopover:r}=(0,Ue._)({entityType:e,colorScheme:t});return i({handleOpenPopover:n,handleClosePopover:r})};var Ze=i(66288),We=i(58002),qe=i.n(We);const Ye={[m.ElementColorSchemes.Dark]:m.BlocksColorSchemes.Dark,[m.ElementColorSchemes.Light]:m.BlocksColorSchemes.Light},Ke=({colorScheme:e=m.ElementColorSchemes.Light,className:t})=>{const i=Ye[e];return(0,o.jsxs)("div",{className:d()(t,qe().root,{[qe().rootDark]:e===m.ElementColorSchemes.Dark}),"data-tid":"60d0e330",children:[(0,o.jsx)(Ze.A,{colorScheme:i,className:d()(qe().poster,{[qe().posterDark]:e===m.ElementColorSchemes.Dark})}),(0,o.jsxs)("div",{className:qe().mainInfo,children:[(0,o.jsx)(Ze.A,{colorScheme:i,className:qe().title}),(0,o.jsx)(Ze.A,{colorScheme:i,className:qe().subtitle})]}),(0,o.jsxs)("div",{className:qe().additionalInfo,children:[(0,o.jsx)(Ze.A,{colorScheme:i,className:qe().bestMovies}),(0,o.jsx)(Ze.A,{colorScheme:i,className:qe().bestMovies}),(0,o.jsx)(Ze.A,{colorScheme:i,className:qe().bestMovies})]}),(0,o.jsx)(Ze.A,{colorScheme:i,className:qe().buttons})]})};var Qe=i(84775),Ge=i(98991);function $e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const ze=e=>{let t=Object.assign({},e);const i=(0,Qe.kP)(),n=(0,Qe.nP)(),{handleOpenPopover:r,handleClosePopover:a}=(0,Ue._)({entityType:"Person",colorScheme:i}),s=n===u.ViewportSizes.Small;return(0,o.jsx)(Ge.dK,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(i),!0).forEach((function(t){(0,l.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$e(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({onItemMouseEnter:s?void 0:r,onItemMouseLeave:s?void 0:a},t))}},98991:function(e,t,i){"use strict";i.d(t,{U:function(){return w},rx:function(){return _},bv:function(){return E},sP:function(){return o.s},Cl:function(){return c},RV:function(){return o.R},dK:function(){return y},nQ:function(){return R},dN:function(){return m},fy:function(){return b},Q2:function(){return p},xZ:function(){return V},eO:function(){return W}});var n=i(41762),r=i(45350),a=i(35911),o=i(4928),s=i(83605);const l={[r.BlocksColorSchemes.Light]:o.s.Dark,[r.BlocksColorSchemes.Grey]:o.s.Dark,[r.BlocksColorSchemes.Dark]:o.s.Light},c=({rowData:e,className:t,rowClassName:i,testId:r,isForcedAlignLeft:o,withDelimiter:c,viewVariant:d})=>{const u=(0,n.tv)(),m=(0,n.nP)();return(0,s.jsx)(a.f,{rowData:e,colorScheme:l[u],viewportSize:m,className:t,rowClassName:i,testId:r,isForcedAlignLeft:o,withDelimiter:c,viewVariant:d})};var d=i(78273),u=i.n(d);const m=({className:e,textClassName:t,value:i,setElementRef:n})=>(0,s.jsx)("div",{ref:n,className:u()(e),"data-tid":"e1e37c21",children:(0,s.jsx)("div",{className:u()(t),children:i.text})});i(82649);var v=i(5099),k=i.n(v);const _=({className:e,value:t,linkClassName:i,onItemMouseEnter:n=k(),onItemMouseLeave:r=k()})=>{const a=(t.items||[]).map((e=>(0,s.jsx)("a",{className:u()(i),href:e.link,onMouseEnter:t=>n(t,e.id),onMouseLeave:t=>r(t,e.id),"data-tid":"603f73a4",children:e.text},e.id)));return t.moreLink&&a.push((0,s.jsx)("a",{href:t.moreLink,className:u()(i),children:"..."},"ellipsis")),(0,s.jsx)("div",{className:u()(e),"data-tid":"d5ff4cc",children:a.reduce(((e,t)=>null===e?[t]:[...e,", ",t]),null)})},p=({className:e,value:t,linkClassName:i})=>(0,s.jsx)("div",{className:u()(e),"data-tid":"cfbe5a01",children:(0,s.jsx)("a",{className:u()(i),href:t.link,children:t.text})}),y=({className:e,linkClassName:t,textClassName:i,value:n,colorScheme:r,onItemMouseEnter:a,onItemMouseLeave:o})=>{const l=n.showExtraItems?n.items:n.items.slice(0,3),c=l.length<n.items.length,d={items:l,moreLink:Boolean((c||n.forceMoreLink)&&n.moreLink)?n.moreLink:void 0};return(0,s.jsx)(_,{value:d,className:u()(e),colorScheme:r,linkClassName:t,textClassName:i,onItemMouseEnter:a,onItemMouseLeave:o})};var h=i(77365),f=i(32717),g=i.n(f);const b=({className:e,value:t,colorScheme:i,textClassName:n})=>(0,s.jsx)("div",{className:u()(e,g().restrictionRow),"data-tid":"b7fd8541",children:(0,s.jsxs)("a",{className:u()(g().restrictionLink),href:t.link,children:[(0,s.jsx)(h.M,{text:t.text,colorScheme:i===r.BlocksColorSchemes.Dark?r.BlocksColorSchemes.Light:r.BlocksColorSchemes.Dark,type:t.isTouch?r.BorderBoldTextTypes.ExtraSmallFaded:r.BorderBoldTextTypes.HighContrast}),t.description&&(0,s.jsx)("span",{className:u()(g().restrictionDescription,n,t.isTouch&&g().isTouch),children:t.description})]})});var S=i(73696),N=i(24911),D=i.n(N);function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){(0,S.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const x={[o.s.Light]:D().valueLight,[o.s.Dark]:D().valueDark},w=e=>{const{colorScheme:t}=e;return(0,s.jsx)(m,O(O({},e),{},{textClassName:x[t]}))};var C=i(23819),F=i.n(C);let P;!function(e){e.StickerHd="HD",e.StickerFullHd="FULLHD",e.Sticker4k="4K"}(P||(P={}));const L={[P.StickerHd]:({colorScheme:e})=>{let t;switch(e){case r.ElementColorSchemes.Dark:t="#333";break;case r.ElementColorSchemes.Light:default:t="#ccc"}return(0,s.jsxs)("svg",{width:"29",height:"16",viewBox:"0 0 29 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:F().qualityStickerIcon,"data-tid":"98ca8da",children:[(0,s.jsx)("path",{d:"M7.15608 12H8.93808V8.755H12.0951V12H13.8771V4.135H12.0951V7.347H8.93808V4.135H7.15608V12ZM15.5565 12H18.1195C20.8805 12 22.2555 10.427 22.2555 8.073V7.985C22.2555 5.631 20.8915 4.135 18.1305 4.135H15.5565V12ZM17.3385 10.614V5.521H18.0425C19.7035 5.521 20.3965 6.39 20.3965 8.007V8.095C20.3965 9.723 19.6485 10.614 18.0645 10.614H17.3385Z",fill:t}),(0,s.jsx)("path",{d:"M1.63803 15.673L2.31901 14.3365L1.63803 15.673ZM28.673 14.362L27.3365 13.681L28.673 14.362ZM27.362 15.673L26.681 14.3365L27.362 15.673ZM27.362 0.32698L28.043 -1.00953L27.362 0.32698ZM28.673 1.63803L30.0095 0.957043L28.673 1.63803ZM4.8 1.5H24.2V-1.5H4.8V1.5ZM27.5 4.8V11.2H30.5V4.8H27.5ZM24.2 14.5H4.8V17.5H24.2V14.5ZM1.5 11.2V4.8H-1.5V11.2H1.5ZM4.8 14.5C3.93517 14.5 3.37676 14.4988 2.95175 14.4641C2.54426 14.4308 2.39318 14.3743 2.31901 14.3365L0.957043 17.0095C1.52461 17.2987 2.11444 17.4057 2.70746 17.4541C3.28296 17.5012 3.98467 17.5 4.8 17.5V14.5ZM-1.5 11.2C-1.5 12.0153 -1.50117 12.717 -1.45415 13.2925C-1.40569 13.8856 -1.29872 14.4754 -1.00953 15.043L1.66349 13.681C1.6257 13.6068 1.56918 13.4557 1.53589 13.0482C1.50117 12.6232 1.5 12.0648 1.5 11.2H-1.5ZM2.31901 14.3365C2.03677 14.1927 1.8073 13.9632 1.66349 13.681L-1.00953 15.043C-0.578099 15.8897 0.110313 16.5781 0.957043 17.0095L2.31901 14.3365ZM27.5 11.2C27.5 12.0648 27.4988 12.6232 27.4641 13.0482C27.4308 13.4557 27.3743 13.6068 27.3365 13.681L30.0095 15.043C30.2987 14.4754 30.4057 13.8856 30.4541 13.2925C30.5012 12.717 30.5 12.0153 30.5 11.2H27.5ZM24.2 17.5C25.0153 17.5 25.717 17.5012 26.2925 17.4541C26.8856 17.4057 27.4754 17.2987 28.043 17.0095L26.681 14.3365C26.6068 14.3743 26.4557 14.4308 26.0482 14.4641C25.6232 14.4988 25.0648 14.5 24.2 14.5V17.5ZM27.3365 13.681C27.1927 13.9632 26.9632 14.1927 26.681 14.3365L28.043 17.0095C28.8897 16.5781 29.5781 15.8897 30.0095 15.043L27.3365 13.681ZM24.2 1.5C25.0648 1.5 25.6232 1.50117 26.0482 1.53589C26.4557 1.56918 26.6068 1.6257 26.681 1.66349L28.043 -1.00953C27.4754 -1.29872 26.8856 -1.40569 26.2925 -1.45415C25.717 -1.50117 25.0153 -1.5 24.2 -1.5V1.5ZM30.5 4.8C30.5 3.98467 30.5012 3.28296 30.4541 2.70746C30.4057 2.11444 30.2987 1.52461 30.0095 0.957043L27.3365 2.31901C27.3743 2.39318 27.4308 2.54426 27.4641 2.95175C27.4988 3.37676 27.5 3.93517 27.5 4.8H30.5ZM26.681 1.66349C26.9632 1.8073 27.1927 2.03677 27.3365 2.31901L30.0095 0.957043C29.5781 0.110313 28.8897 -0.578099 28.043 -1.00953L26.681 1.66349ZM4.8 -1.5C3.98467 -1.5 3.28296 -1.50117 2.70746 -1.45415C2.11444 -1.40569 1.52461 -1.29872 0.957043 -1.00953L2.31901 1.66349C2.39318 1.6257 2.54426 1.56918 2.95175 1.53589C3.37676 1.50117 3.93517 1.5 4.8 1.5V-1.5ZM1.5 4.8C1.5 3.93517 1.50117 3.37676 1.53589 2.95175C1.56918 2.54426 1.6257 2.39318 1.66349 2.31901L-1.00953 0.957043C-1.29872 1.52461 -1.40569 2.11444 -1.45415 2.70746C-1.50117 3.28296 -1.5 3.98467 -1.5 4.8H1.5ZM0.957043 -1.00953C0.110313 -0.578099 -0.578099 0.110313 -1.00953 0.957043L1.66349 2.31901C1.8073 2.03677 2.03677 1.8073 2.31901 1.66349L0.957043 -1.00953Z",fill:t})]})},[P.StickerFullHd]:({colorScheme:e})=>{let t;switch(e){case r.ElementColorSchemes.Dark:t="#333";break;case r.ElementColorSchemes.Light:default:t="#ccc"}return(0,s.jsxs)("svg",{width:"50",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-tid":"43b9c55a",children:[(0,s.jsx)("rect",{x:".75",y:".75",width:"48.5",height:"14.5",rx:"2.25",stroke:t,strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M6.768 12.12H8.55V9.073h2.585V7.73H8.55V5.65h3.267V4.256h-5.05v7.865ZM14.565 12.24c.946 0 1.529-.44 1.826-1.022v.902h1.584V6.367H16.39v3.377c0 .847-.528 1.265-1.2 1.265-.681 0-1-.374-1-1.155V6.367h-1.584v3.707c0 1.507.836 2.167 1.958 2.167ZM19.43 12.12h1.584V3.76H19.43v8.36ZM22.513 12.12h1.584V3.76h-1.584v8.36ZM28.134 12.12h1.782V8.875h3.157v3.245h1.782V4.255h-1.782v3.212h-3.157V4.255h-1.782v7.865ZM36.534 12.12h2.563c2.761 0 4.136-1.573 4.136-3.927v-.088c0-2.354-1.364-3.85-4.125-3.85h-2.574v7.865Zm1.782-1.386V5.64h.704c1.661 0 2.354.869 2.354 2.486v.088c0 1.628-.748 2.519-2.332 2.519h-.726Z",fill:t})]})},[P.Sticker4k]:({className:e,colorScheme:t})=>(0,s.jsxs)("svg",{width:"28",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:u()(F().qualityStickerIcon,e,{[F().qualityStickerIconLight]:t===r.ElementColorSchemes.Light,[F().qualityStickerIconDark]:t===r.ElementColorSchemes.Dark}),"data-tid":"1546c1da",children:[(0,s.jsx)("path",{className:F().background,d:"M.006 4.8c0-1.68 0-2.521.327-3.163a3 3 0 011.31-1.31c.643-.328 1.483-.328 3.163-.328h17.4c1.68 0 2.52 0 3.162.327a3 3 0 011.31 1.311c.328.642.328 1.482.328 3.162v6.4c0 1.68 0 2.52-.327 3.162a3 3 0 01-1.311 1.311c-.642.327-1.482.327-3.162.327h-17.4c-1.68 0-2.52 0-3.162-.327a3 3 0 01-1.311-1.31c-.327-.643-.327-1.483-.327-3.163V4.8z"}),(0,s.jsx)("path",{className:F().text,d:"M10.273 12H12v-1.563h1.034V9.161H12V4.134H9.811L6.412 9.788v.65h3.861v1.561zM8.194 9.16l2.112-3.685v3.685H8.194zM14.192 12h1.782V8.47l2.717 3.53h2.079l-3.267-4.147 3.113-3.729h-1.892l-2.75 3.4V4.133h-1.782V12z"})]})},I=({className:e,colorScheme:t=r.ElementColorSchemes.Light,icon:i})=>{const n=L[i]||null;return n?(0,s.jsx)(n,{className:e,colorScheme:t}):(0,s.jsx)("span",{className:u()(F().qualitySticker,e,{[F().qualityStickerLight]:t===r.ElementColorSchemes.Light,[F().qualityStickerDark]:t===r.ElementColorSchemes.Dark}),"data-tid":"7a5bfe3e",children:i})};var T=i(43439),M=i.n(T);const E=({className:e,value:t,colorScheme:i,setElementRef:n})=>{const a=i===r.BlocksColorSchemes.Dark?r.ElementColorSchemes.Dark:r.ElementColorSchemes.Light,o=t.text.split(",").map((e=>"HD"===e?"FULLHD":e));return(0,s.jsx)("div",{ref:n,className:u()(e,M().definitionRowValue),"data-tid":"7e7b470c",children:o.map((e=>(0,s.jsx)(I,{className:M().qualitySticker,colorScheme:a,icon:e},e)))})};var B=i(37667);const V=({className:e,linkClassName:t,textClassName:i,value:n,colorScheme:r})=>{const{topLineText:a,topLineUrl:o}=n,l=(0,B.useMemo)((()=>n.items.slice(0,3)),[n.items]),c=l.length<n.items.length,d={items:l,moreLink:Boolean((c||n.forceMoreLink)&&n.moreLink)?n.moreLink:void 0};return(0,s.jsxs)("div",{className:u()(e),"data-tid":"1538d6c",children:[(0,s.jsx)("div",{children:(0,s.jsx)("a",{className:t,href:o,children:a})}),(0,s.jsx)(_,{value:d,className:u()(e),colorScheme:r,linkClassName:t,textClassName:i})]})},R=({className:e,textClassName:t,value:i})=>(0,s.jsx)("div",{className:u()(e),"data-tid":"26dbfeec",children:i.items.map((e=>(0,s.jsx)(m,{textClassName:t,value:{text:e}},e)))});var A=i(65768);const U=({className:e})=>(0,s.jsx)("svg",{className:e,width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-tid":"2e347eed",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.70396 6.7348L0 1.46961L1.35656 0L8.6526 6.7348L1.35656 13.4696L0 12L5.70396 6.7348Z",fill:"white",fillOpacity:"0.4"})});var H=i(93760),Z=i.n(H);const W=({isSmall:e=!1,setElementRef:t,colorScheme:i=r.BlocksColorSchemes.Light})=>(0,s.jsxs)("div",{className:u()(Z().availabilityRenderer,Z()[`availabilityRenderer_${i}`],{[Z().small]:e}),ref:t,"data-tid":"dfa987c1",children:[(0,s.jsx)("p",{className:Z().text,children:A.F.uhdAvailableOnLargeScreens}),(0,s.jsxs)("a",{href:"/special/smarttv_instruction/",className:Z().button,children:[A.F.installOnTV,!e&&(0,s.jsx)(U,{className:Z().arrowIcon})]})]})},44235:function(e,t,i){"use strict";i.d(t,{N:function(){return s}});var n=i(37667),r=i(8055),a=i.n(r),o=i(83605);const s=({children:e,separator:t=",\xa0",isSeparatorWrappingBlocked:i})=>(0,o.jsx)(o.Fragment,{children:e.length>1?null===e||void 0===e?void 0:e.map(((e,r,{length:s})=>i?(0,o.jsxs)("div",{className:a().container,"data-tid":"51ae707e",children:[e,r!==s-1?t:null]},r):(0,o.jsxs)(n.Fragment,{children:[e,r!==s-1?t:null]},r))):e})},82649:function(e,t,i){"use strict";i.d(t,{H:function(){return o}});var n=i(78273),r=i.n(n),a=i(83605);const o=({className:e,textClassName:t})=>(0,a.jsx)("div",{className:r()(e),"data-tid":"3909862c",children:(0,a.jsx)("div",{className:r()(t),children:"\u2014"})})},4928:function(e,t,i){"use strict";let n,r;i.d(t,{s:function(){return n},R:function(){return r}}),function(e){e.Dark="dark",e.Light="light"}(n||(n={})),function(e){e.MovieDetails="movieDetails",e.PersonExtendedInfornation="personExtendedInfornation"}(r||(r={}))},77365:function(e,t,i){"use strict";i.d(t,{M:function(){return c}});var n=i(78273),r=i.n(n),a=i(45350),o=i(81170),s=i.n(o),l=i(83605);const c=({className:e,text:t,colorScheme:i=a.BlocksColorSchemes.Light,type:n=a.BorderBoldTextTypes.HighContrast})=>(0,l.jsx)("span",{className:r()(e,{[s().rootHighContrast]:n===a.BorderBoldTextTypes.HighContrast,[s().rootHighContrastInLight]:n===a.BorderBoldTextTypes.HighContrast&&i!==a.BlocksColorSchemes.Dark,[s().rootHighContrastInDark]:n===a.BorderBoldTextTypes.HighContrast&&i===a.BlocksColorSchemes.Dark,[s().rootSmallFaded]:n===a.BorderBoldTextTypes.SmallFaded,[s().rootSmallFadedInLight]:n===a.BorderBoldTextTypes.SmallFaded&&i!==a.BlocksColorSchemes.Dark,[s().rootSmallFadedInDark]:n===a.BorderBoldTextTypes.SmallFaded&&i===a.BlocksColorSchemes.Dark,[s().rootExtraSmallFaded]:n===a.BorderBoldTextTypes.ExtraSmallFaded,[s().rootExtraSmallFadedInDark]:n===a.BorderBoldTextTypes.ExtraSmallFaded&&i===a.BlocksColorSchemes.Dark}),"data-tid":"5c1ffa33",children:t})},35911:function(e,t,i){"use strict";i.d(t,{f:function(){return f}});var n=i(73696),r=i(78273),a=i.n(r),o=i(72581),s=i(4928),l=i(82649),c=i(66931),d=i.n(c),u=i(83605);function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const k={[s.s.Light]:d().rowLight,[s.s.Dark]:d().rowDark},_={[s.s.Light]:d().titleLight,[s.s.Dark]:d().titleDark},p={[s.s.Light]:d().valueLight,[s.s.Dark]:d().valueDark},y={[s.s.Light]:d().linkLight,[s.s.Dark]:d().linkDark},h={[s.R.PersonExtendedInfornation]:d().personExtendedInformation,[s.R.MovieDetails]:d().movieDetails},f=({rowData:e,colorScheme:t,className:i,viewportSize:n,rowClassName:r,testId:s,isForcedAlignLeft:c,withDelimiter:m=!0,viewVariant:f})=>{if(!e||!e.length)return null;const g=n===o.ViewportSizes.Small,b=s?{"data-test-id":s}:{},S=g&&!c;return(0,u.jsx)("div",v(v({className:a()(i)},b),{},{"data-tid":"bd126b5e",children:e.filter((e=>e.value||!e.degradationIfEmpty)).map((({id:e,titleRenderer:i,renderer:n,title:o,value:s,className:c})=>(0,u.jsxs)("div",{className:a()(k[t],r,c,g&&d().rowSmall,S&&d().rowAlignedRight,m&&d().withDelimiter,f&&h[f]),"data-tid":"7cda04a5",children:[i?(0,u.jsx)(i,{value:s,title:o,className:a()(_[t],g&&d().titleSmall)}):(0,u.jsx)("div",{className:a()(_[t],g&&d().titleSmall),children:o}),s&&(0,u.jsx)(n,{className:a()(p[t]),textClassName:p[t],linkClassName:y[t],value:s,colorScheme:t,isSmall:g}),!s&&(0,u.jsx)(l.H,{className:a()(d().empty),textClassName:p[t]})]},e)))}))}},12278:function(e,t,i){"use strict";i.d(t,{T:function(){return A}});var n=i(37667),r=i(59747),a=i(73696),o=i(12583),s=i(60959),l=i(65205),c=i(54772),d=i(5799),u=i(5274),m=i(23737);const v=(e,t)=>{const[i,n]=(0,m.useLazyQuery)(e,t),r=(0,m.useQuery)(e,{variables:null===t||void 0===t?void 0:t.variables,fetchPolicy:"cache-only",skip:n.called});return[i,n.called?n:r]};var k=i(15972),_=i(35229),p=i.n(_),y=i(29831),h=i(47165),f=i(19765),g=i(68045),b=i(31383);function S({id:e,viewOption:t,isTicketsAvailable:i},n){const r=n?h.f.MoviePlayPage:h.f.FilmWatchPage;return{accessType:(null===t||void 0===t?void 0:t.type)||void 0,onlineCaption:(null===t||void 0===t?void 0:t.buttonText)||void 0,isPurchased:(null===t||void 0===t?void 0:t.purchasabilityStatus)===u.gY.Purchased,onlineLink:null!==t&&void 0!==t&&t.isAvailableOnline?f._.getUrl(r,{id:e},{watch:""}):void 0,onlineOriginalCaption:(null===t||void 0===t?void 0:t.originalButtonText)||void 0,afishaLink:i?f._.getUrl(g.s.BuyTicket,{filmId:e}):void 0}}function N(e){var t;return(0,y.E)(null===e||void 0===e||null===(t=e.items)||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.person))).filter((e=>!!e))}function D(e){var t;return(0,y.E)(null===e||void 0===e||null===(t=e.items)||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.person))).filter((e=>!!e))}var j=i(67200),O=i(84121),x=i(13278),w=i(59942);var C=i(83605);function F(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){(0,a.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const L=({movieId:e})=>{var t;const i=(0,o.useSelector)(c.IZ),[a,{data:m,error:_}]=v(k.s,{variables:{movieId:e,actorsLimit:5,withUserData:i}}),y=(0,o.useSelector)(l.On),h=(0,o.useSelector)(j.u),f=(0,o.useDispatch)();(0,n.useEffect)((()=>{i&&f((0,O.F)())}),[i]);const{isMoviePlayInIframeOnKPEnabled:g}=(0,x.p)(),F=null!==m&&void 0!==m&&m.movie?function({movie:e,isMoviePlayInIframeOnKPEnabled:t}){var i,n,r,a,o,s,l,c;const{poster:u,title:m,actors:v,directors:k}=e,_=(0,b.T)({typename:e.__typename,id:e.id});let y,h,f;var g,j;"Film"!==e.__typename&&"Video"!==e.__typename||(y=e.productionYear||void 0),("TvSeries"===e.__typename||"MiniSeries"===e.__typename||"TvShow"===e.__typename)&&(h=(null===(g=e.releaseYears[0])||void 0===g?void 0:g.start)||void 0,f=(null===(j=e.releaseYears[0])||void 0===j?void 0:j.end)||void 0);const O=null===(i=e.userData)||void 0===i||null===(n=i.voting)||void 0===n?void 0:n.value,x={hasUserRating:Boolean(O),ratingValue:O,votedAt:null===(r=e.userData)||void 0===r||null===(a=r.voting)||void 0===a?void 0:a.votedAt,isFilmWatched:!!p()(O)&&O>=0,isActive:Boolean(null===(o=e.rating)||void 0===o||null===(s=o.kinopoisk)||void 0===s?void 0:s.isActive)};return{posterWithRating:{avatarBaseUrl:(null===u||void 0===u?void 0:u.avatarsUrl)||void 0,fallbackImageUrl:(null===u||void 0===u?void 0:u.fallbackUrl)||void 0,title:(null===m||void 0===m?void 0:m.russian)||(null===m||void 0===m?void 0:m.original)||void 0,url:_,rating:e.rating},mainInfo:{title:(null===m||void 0===m?void 0:m.russian)||(null===m||void 0===m?void 0:m.original)||void 0,originTitle:(null===m||void 0===m?void 0:m.russian)&&(null===m||void 0===m?void 0:m.original)||void 0,year:{productionYear:y,movieStartYear:h,movieEndYear:f},url:_},additionalInfo:{actors:N(v),directors:D(k)},userRating:x,buyButtons:S(e,Boolean(t)),movieInFavoriteFolder:null===(l=e.userData)||void 0===l||null===(c=l.folders)||void 0===c?void 0:c.some((e=>(null===e||void 0===e?void 0:e.id)===d.G.WatchList))}}({movie:m.movie,userData:h,isMoviePlayInIframeOnKPEnabled:g}):null,L=(0,n.useMemo)((()=>{var e,t;const i=null===m||void 0===m||null===(e=m.movie)||void 0===e||null===(t=e.userData)||void 0===t?void 0:t.voting;return{value:void 0!==(null===i||void 0===i?void 0:i.value)?i.value:null,votedAt:void 0!==(null===i||void 0===i?void 0:i.votedAt)?i.votedAt:null}}),[F]),I=null===m||void 0===m||null===(t=m.movie)||void 0===t?void 0:t.__typename,T=(0,n.useCallback)((()=>{f((0,w.bK)({movieId:e,folderId:d.G.WatchList,operation:d.Y.Add,typeName:I||u.vy.Film}))}),[f,e,I]),M=(0,n.useCallback)((()=>{f((0,w.bK)({movieId:e,folderId:d.G.WatchList,operation:d.Y.Remove,typeName:I||u.vy.Film}))}),[f,e,I]),E=(0,n.useCallback)((()=>f((0,w.J2)({movieId:e,rollbackVote:L,typeName:I||u.vy.Film}))),[f,L,e,I]),B=(0,n.useCallback)((()=>f((0,w.M0)({movieId:e,rollbackVote:L,typeName:I||u.vy.Film}))),[f,L,e,I]);return(0,C.jsx)(s._j,{onLoad:a,isLoaded:Boolean(m||_),placeholder:(0,C.jsx)(r.LZ,{colorScheme:y}),children:F&&(0,C.jsx)(r.$b,P({userControls:{onUnwatch:B,onWatch:E,onFolderButtonToggleOn:T,onFolderButtonToggleOff:M},colorScheme:y},F))})},I={kind:"Document",definitions:(e=>{const t={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const i=e.name.value;return!t[i]&&(t[i]=!0,!0)}))})([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PersonPreviewCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"personId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rolesLimit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bestMoviesLimit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"person"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"personId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"poster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fallbackUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"rolesLimit"}}},{kind:"Argument",name:{kind:"Name",value:"isCareer"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"bestFilms"},name:{kind:"Name",value:"bestMovies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"bestMoviesLimit"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"FILM"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonPreviewCardBestMovies"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"bestSeries"},name:{kind:"Name",value:"bestMovies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"bestMoviesLimit"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"SERIES"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PersonPreviewCardBestMovies"},directives:[]}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"PersonPreviewCardBestMovies"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PagingList_PersonBestMovie"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"original"},arguments:[],directives:[]}]}}]}}]}}]}}])),loc:{start:0,end:398,source:{body:"query PersonPreviewCard($personId:Long!$rolesLimit:Int=10$bestMoviesLimit:Int=10){person(id:$personId){id poster{avatarsUrl fallbackUrl}name originalName roles(limit:$rolesLimit isCareer:true){items{role{title{russian}}}}bestFilms:bestMovies(limit:$bestMoviesLimit type:FILM){...PersonPreviewCardBestMovies}bestSeries:bestMovies(limit:$bestMoviesLimit type:SERIES){...PersonPreviewCardBestMovies}}}",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var T=i(75265);function M(e){var t;return null===e||void 0===e||null===(t=e.items)||void 0===t?void 0:t.map((e=>{var t,i;return null===e||void 0===e||null===(t=e.role)||void 0===t||null===(i=t.title)||void 0===i?void 0:i.russian})).filter((e=>Boolean(e)))}function E(e){var t;return(0,y.E)(null===e||void 0===e||null===(t=e.items)||void 0===t?void 0:t.map((e=>{const t=null===e||void 0===e?void 0:e.movie;return{id:Number(null===t||void 0===t?void 0:t.id)||void 0,title:(null===t||void 0===t?void 0:t.title.russian)||(null===t||void 0===t?void 0:t.title.russian)||void 0,movieType:"Film"===(null===t||void 0===t?void 0:t.__typename)?u.vy.Film:u.vy.TvSeries}}))).filter((e=>!!e))||[]}function B(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function V(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){(0,a.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const R=({personId:e})=>{const[t,{data:i,error:n}]=v(I,{variables:{personId:e,rolesLimit:3,bestMoviesLimit:8}}),a=(0,o.useSelector)(l.On),c=null!==i&&void 0!==i&&i.person?function({person:e}){const{id:t,poster:i,name:n,originalName:r,roles:a,bestFilms:o,bestSeries:s}=e,l=f._.getUrl(T.N.PersonPage,{id:t});return{id:t,mainInfo:{name:n||r||void 0,roles:M(a),url:l},poster:{avatarBaseUrl:(null===i||void 0===i?void 0:i.avatarsUrl)||void 0,fallbackImageUrl:(null===i||void 0===i?void 0:i.fallbackUrl)||void 0,title:n||r||void 0,url:l},additionalInfo:{bestMovies:[...E(o),...E(s)]}}}({person:i.person}):null;return(0,C.jsx)(s._j,{onLoad:t,isLoaded:Boolean(i||n),placeholder:(0,C.jsx)(r.LZ,{colorScheme:a}),children:c&&(0,C.jsx)(r.C4,V(V({},c),{},{colorScheme:a}))})},A=()=>(0,C.jsx)(r.xP,{moviePreviewCardRenderer:e=>(0,C.jsx)(L,{movieId:e}),personPreviewCardRenderer:e=>(0,C.jsx)(R,{personId:e})})},20917:function(e,t,i){"use strict";i.d(t,{C:function(){return s},W:function(){return l}});var n=i(81278),r=i(84121),a=i(67200),o=i(65264);function*s(){const e=yield(0,n.select)(a.u);null!==e&&void 0!==e&&e.length||(yield(0,n.call)(o.u))}function*l(){yield(0,n.takeLatest)(r.F.type,s)}},15972:function(e,t,i){"use strict";i.d(t,{g:function(){return n},s:function(){return r}});const n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MovieUserData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Movie"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folders"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"public"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"voting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:87,source:{body:"fragment MovieUserData on Movie{userData{folders{id name public}voting{value votedAt}}}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},r={kind:"Document",definitions:(e=>{const t={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const i=e.name.value;return!t[i]&&(t[i]=!0,!0)}))})([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoviePreviewCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"actorsLimit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUserData"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"regionId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"213"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"original"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Film"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productionYear"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isShortFilm"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top250"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TvSeries"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MiniSeries"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TvShow"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productionYear"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isTicketsAvailable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"regionId"},value:{kind:"Variable",name:{kind:"Name",value:"regionId"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewOption"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalButtonText"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"isAvailableOnline"},name:{kind:"Name",value:"isWatchable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"anyDevice"},value:{kind:"BooleanValue",value:!1}},{kind:"ObjectField",name:{kind:"Name",value:"anyRegion"},value:{kind:"BooleanValue",value:!1}}]}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promotionIcons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fallbackUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionPurchaseTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rightholderLogoUrlForPoster"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"actors"},name:{kind:"Name",value:"members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"actorsLimit"}}},{kind:"Argument",name:{kind:"Name",value:"role"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ACTOR"},{kind:"EnumValue",value:"CAMEO"},{kind:"EnumValue",value:"UNCREDITED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"person"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"directors"},name:{kind:"Name",value:"members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"role"},value:{kind:"EnumValue",value:"DIRECTOR"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"person"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kinopoisk"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isActive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"expectation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isActive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"poster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fallbackUrl"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MovieUserData"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withUserData"}}}]}]}]}}]}}].concat(n.definitions)),loc:{start:0,end:929,source:{body:"query MoviePreviewCard($movieId:Long!$actorsLimit:Int!$withUserData:Boolean=false$regionId:Int=213){movie(id:$movieId){id title{russian original}...on Film{productionYear isShortFilm top250}...on TvSeries{releaseYears{start end}}...on MiniSeries{releaseYears{start end}}...on TvShow{releaseYears{start end}}...on Video{productionYear}isTicketsAvailable(regionId:$regionId)viewOption{buttonText originalButtonText isAvailableOnline:isWatchable(filter:{anyDevice:false anyRegion:false})purchasabilityStatus promotionIcons{avatarsUrl fallbackUrl}subscriptionPurchaseTag type rightholderLogoUrlForPoster}actors:members(limit:$actorsLimit role:[ACTOR CAMEO UNCREDITED]){items{person{id name originalName}}total}directors:members(role:DIRECTOR limit:4){items{person{id name originalName}}}rating{kinopoisk{isActive count value}expectation{isActive count value}}poster{avatarsUrl fallbackUrl}...MovieUserData@include(if:$withUserData)}}",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},59942:function(e,t,i){"use strict";i.d(t,{bC:function(){return c},M0:function(){return d},J2:function(){return u},bK:function(){return m}});var n=i(73696),r=i(92286),a=i(82520);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let l;!function(e){e.SetMovieUserFolderEffect="preview-card-popover-content/SET_MOVIE_USER_FOLDER_EFFECT",e.SetMovieUserRatingEffect="preview-card-popover-content/SET_MOVIE_USER_RATING_EFFECT"}(l||(l={}));const c=(0,r.PH)(l.SetMovieUserRatingEffect),d=e=>c(s(s({},e),{},{value:a.w_})),u=e=>c(s(s({},e),{},{value:a.uT})),m=(0,r.PH)(l.SetMovieUserFolderEffect)},82520:function(e,t,i){"use strict";i.d(t,{Du:function(){return n},JR:function(){return r},w_:function(){return a},uT:function(){return o}});const n=200,r=200,a=-1,o=0},78053:function(e,t,i){"use strict";i.d(t,{D:function(){return E}});var n=i(20917),r=i(71922),a=i(59942),o=i(82520),s=i(81278),l=i(5799),c=i(23077),d=i(96667),u=i(14995),m=i(15972),v=i(21815),k=i(44369),_=i(42448),p=i(45880);function*y({payload:{movieId:e,folderId:t,typeName:i,operation:n}}){var r,a;yield(0,s.call)(c.K);const o=yield(0,s.select)((e=>(0,d.S)(e,{entityId:t}))),y=(0,_.u)(i)({id:e}),h=yield(0,s.call)(u.R),f=h.readFragment({id:y,fragment:m.g}),g=null===f||void 0===f||null===(r=f.userData)||void 0===r||null===(a=r.folders)||void 0===a?void 0:a.some((e=>(null===e||void 0===e?void 0:e.id)===t));let b=null;n!==l.Y.Add||g||(b=(0,v.C)({userData:f,folder:o,typeName:i})),n===l.Y.Remove&&g&&(b=(0,k.Z)({userData:f,folder:o,typeName:i})),b&&(0,p.g)({apolloClient:h,cacheObjectId:y,data:b,fragment:m.g})}var h=i(5274),f=i(64705),g=i(74257);const b={[h.vy.Film]:f.MovieTypes.Film,[h.vy.TvSeries]:f.MovieTypes.TvSeries,[h.vy.Video]:f.MovieTypes.Video,[h.vy.TvShow]:f.MovieTypes.TvShow,[h.vy.MiniSeries]:f.MovieTypes.MiniSeries};function*S({payload:e}){const{movieId:t,folderId:i,operation:n,typeName:r}=e;return yield(0,g.K)({movieId:t,folderId:i,operation:n,movieType:b[r]})}var N=i(73696);function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach((function(t){(0,N.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function*O({payload:e}){const{operation:t}=e,i=(0,a.bK)(j(j({},e),{},{operation:t===l.Y.Add?l.Y.Remove:l.Y.Add}));yield(0,s.call)(y,i)}function*x(){yield(0,r.f)(o.Du,(({payload:e})=>`${e.movieId}${e.folderId}`),a.bK.type,y,S,O)}var w=i(45247),C=i(69419);function F({movieId:e,value:t,voteAt:i,typeName:n,apolloClient:r}){const a=(0,_.u)(n)({id:e}),o=function({ratingValue:e,userData:t,typeName:i,voteAt:n=(new Date).toISOString()}){return(0,w.ZP)(t,(t=>((t=t||{__typename:i,userData:null}).userData=t.userData||{__typename:h.vy.MovieUserData,folders:null,voting:null},t.userData.voting=t.userData.voting||{__typename:h.vy.Vote,value:null,votedAt:null},t.userData.voting.value=e===C.UF?null:e,t.userData.voting.votedAt=n,t)))}({ratingValue:t,voteAt:i,userData:r.readFragment({id:a,fragment:m.g}),typeName:n});(0,p.g)({apolloClient:r,cacheObjectId:a,data:o,fragment:m.g})}function*P({payload:{movieId:e,value:t,typeName:i}}){yield(0,s.call)(c.K);F({apolloClient:yield(0,s.call)(u.R),movieId:e,value:t,typeName:i})}var L=i(16619);function*I({payload:e}){const{movieId:t,value:i}=e;return yield function*({movieId:e,value:t}){const i=yield(0,s.call)(L.z);return yield(0,s.call)({context:i,fn:i.setUserVote},{id:e,value:t})}({movieId:t,value:i})}function*T({payload:{movieId:e,typeName:t,rollbackVote:i}}){F({apolloClient:yield(0,s.call)(u.R),movieId:e,value:(null===i||void 0===i?void 0:i.value)||null,typeName:t,voteAt:null===i||void 0===i?void 0:i.votedAt})}function*M(){yield(0,r.f)(o.JR,(({payload:e})=>String(e.movieId)),a.bC.type,P,I,T)}const E=()=>[{id:"previewCardPopoverContent",sagas:[n.W,x,M]}]},23096:function(e){e.exports={root:"styles_root__Rkwg4",text:"styles_text__BO5MG",controls:"styles_controls__G8kpZ",button:"styles_button__lLdRw",applyButton:"styles_applyButton__XwMds styles_button__lLdRw",cancelButton:"styles_cancelButton__ZaUAi styles_button__lLdRw"}},97057:function(e){e.exports={root:"styles_root__EGQb8",rootDark:"styles_rootDark__4T_14"}},53494:function(e){e.exports={root:"styles_root__IZ2ab",roles:"styles_roles__WgJY6",directors:"styles_directors__i_rI9",rolesWithoutDirectors:"styles_rolesWithoutDirectors__kg_I6",directorsWithoutRoles:"styles_directorsWithoutRoles__ErHDq",rolesDark:"styles_rolesDark__h6jDI",directorsDark:"styles_directorsDark__Om7Y2",rolesTitle:"styles_rolesTitle__rs0A1",directorsTitle:"styles_directorsTitle__PuEmv",rolesTitleDark:"styles_rolesTitleDark__2gTI_",directorsTitleDark:"styles_directorsTitleDark__Sw_UF"}},98814:function(e){e.exports={root:"styles_root__vyX9X",movieTitle:"styles_movieTitle__4vL5H",movieTitleLink:"styles_movieTitleLink__dbOrL",movieTitleDark:"styles_movieTitleDark__IZdi4",movieTitleLinkDark:"styles_movieTitleLinkDark__SB95o",rating:"styles_rating___woH_",subtitle:"styles_subtitle__9eORG",subtitleDark:"styles_subtitleDark__Jdfvd",countries:"styles_countries__NrBtk",genres:"styles_genres__W6_n2",year:"styles_year__N58ar",originMovieTitle:"styles_originMovieTitle__aZXKx",watchOnlineButton:"styles_watchOnlineButton__6Q61K"}},71960:function(e){e.exports={root:"styles_root__X6lxw",rootDark:"styles_rootDark__gCBGV"}},36929:function(e){e.exports={root:"styles_root__hEKME",onlineButton:"styles_onlineButton____mlz",ticketsButton:"styles_ticketsButton__pzFKc",onlineButtonPlus:"styles_onlineButtonPlus__pCUdL",buyButtons:"styles_buyButtons__IxUXq",watchedButton:"styles_watchedButton__sW6jq",favoriteButton:"styles_favoriteButton__pCX_M"}},87563:function(e){e.exports={root:"styles_root__vhMd0",rootDark:"styles_rootDark__hNJE4",poster:"styles_poster__B_RB6",contentWrapper:"styles_contentWrapper__QkEar",rating:"styles_rating__hbvI9",additionalInfo:"styles_additionalInfo__5exK2",mainInfo:"styles_mainInfo__xxqsj",userControls:"styles_userControls__c_OIQ"}},8418:function(e){e.exports={root:"styles_root__EDidf",rootDark:"styles_rootDark__0NVps",bestMoviesTitle:"styles_bestMoviesTitle__LolPp",bestMoviesTitleDark:"styles_bestMoviesTitleDark__DBdrK",bestMovieTitle:"styles_bestMovieTitle__hW2wC",bestMovieTitleDark:"styles_bestMovieTitleDark__8eW7J",bestMoviesLinks:"styles_bestMoviesLinks__I_t2w"}},688:function(e){e.exports={root:"styles_root__4Nmr1",title:"styles_title__yDE3n",name:"styles_name__KwZUI",nameLink:"styles_nameLink__NEvL8",nameDark:"styles_nameDark__gLV34",nameLinkDark:"styles_nameLinkDark__pwQZG",birthDate:"styles_birthDate__olFeK",birthDateDark:"styles_birthDateDark__P_T1D",subtitle:"styles_subtitle__ha3Pa",subtitleDark:"styles_subtitleDark__oICAt",role:"styles_role__yiLQb"}},91484:function(e){e.exports={root:"styles_root__gotYG",rootDark:"styles_rootDark__y_BQP"}},70815:function(e){e.exports={root:"styles_root__qGxbx",rootDark:"styles_rootDark__tl3uU"}},88368:function(e){e.exports={root:"styles_root__bCxm_",rootDark:"styles_rootDark__YjQ_3",contentWrapper:"styles_contentWrapper__RudcB",poster:"styles_poster__rh1jm",additionalInfo:"styles_additionalInfo__WRtcr",mainInfo:"styles_mainInfo__Sq8W9",subscribeButton:"styles_subscribeButton__0b_un"}},58002:function(e){e.exports={root:"styles_root__cbWBg",rootDark:"styles_rootDark__Dqmpa",poster:"styles_poster__MjvcM",posterDark:"styles_posterDark__ZzRiV",mainInfo:"styles_mainInfo__K6_OU",additionalInfo:"styles_additionalInfo__azWmW",title:"styles_title__E0Or1",subtitle:"styles_subtitle__PMtDB",bestMovies:"styles_bestMovies__c7etR",buttons:"styles_buttons__fSKfY"}},49835:function(e){e.exports={root:"styles_root__lk0ud",warningPopUp:"styles_warningPopUp__P4Gcm"}},81170:function(e){e.exports={rootHighContrast:"styles_rootHighContrast__Bevle",rootHighContrastInLight:"styles_rootHighContrastInLight__513Hu",rootHighContrastInDark:"styles_rootHighContrastInDark___UcNT",rootSmallFaded:"styles_rootSmallFaded__LiPsm",rootSmallFadedInLight:"styles_rootSmallFadedInLight__eENN6",rootSmallFadedInDark:"styles_rootSmallFadedInDark__m1H_w",rootExtraSmallFaded:"styles_rootExtraSmallFaded__0MNMh",rootExtraSmallFadedInDark:"styles_rootExtraSmallFadedInDark__Mb9Hv"}},24911:function(e){e.exports={valueLight:"styles_valueLight__UMEMJ",valueDark:"styles_valueDark__iWtqb"}},43439:function(e){e.exports={definitionRowValue:"styles_definitionRowValue__QvGno",qualitySticker:"styles_qualitySticker__3WxIJ"}},32717:function(e){e.exports={restrictionRow:"styles_restrictionRow__JTXWD",restrictionLink:"styles_restrictionLink__iy4n9",restrictionDescription:"styles_restrictionDescription__4j5Pk",isTouch:"styles_isTouch__Xxjek"}},93760:function(e){e.exports={availabilityRenderer:"styles_availabilityRenderer__T_xGw",text:"styles_text__OoslT",button:"styles_button__ZcFvh",arrowIcon:"styles_arrowIcon__gOAj_",availabilityRenderer_light:"styles_availabilityRenderer_light__VY31r",availabilityRenderer_dark:"styles_availabilityRenderer_dark__uxMWw",small:"styles_small___8pA_"}},66931:function(e){e.exports={row:"styles_row__da_RK",withDelimiter:"styles_withDelimiter__ay80B",rowLight:"styles_rowLight__P8Y_1 styles_row__da_RK",rowDark:"styles_rowDark__ucbcz styles_row__da_RK",rowAlignedRight:"styles_rowAlignedRight__RWU44",title:"styles_title__b1HVo",value:"styles_value__g6yP4",empty:"styles_empty__Qfc3a",titleLight:"styles_titleLight__HIbfT styles_title__b1HVo",titleDark:"styles_titleDark___tfMR styles_title__b1HVo",valueLight:"styles_valueLight__nAaO3 styles_value__g6yP4",valueDark:"styles_valueDark__BCk93 styles_value__g6yP4",link:"styles_link__3QfAk",linkLight:"styles_linkLight__cha3C styles_link__3QfAk",linkDark:"styles_linkDark__7m929 styles_link__3QfAk",rowSmall:"styles_rowSmall__MmJgq",personExtendedInformation:"styles_personExtendedInformation__bU6oq",movieDetails:"styles_movieDetails__FOUgq",titleSmall:"styles_titleSmall__Pl7UQ"}},26789:function(e){e.exports={root:"styles_root__huAtk",rootWithTitle:"styles_rootWithTitle__cFwbU",rootLight:"styles_rootLight__ZG2nc",rootActive:"styles_rootActive__WwXUe",rootDark:"styles_rootDark__HZ0hd"}},58686:function(e){e.exports={root:"styles_root__SomQS",rootLight:"styles_rootLight__GBqjy",rootActive:"styles_rootActive__tUduI",rootDark:"styles_rootDark__pXRF4"}},8055:function(e){e.exports={container:"styles_container__GAin_"}},23819:function(e){e.exports={qualitySticker:"styles_qualitySticker__9f71r",qualityStickerLight:"styles_qualityStickerLight__J0_51",qualityStickerDark:"styles_qualityStickerDark__MLlQr",qualityStickerIcon:"styles_qualityStickerIcon__6g0Bl",qualityStickerIconLight:"styles_qualityStickerIconLight__oR6jx",background:"styles_background__Qz1OP",text:"styles_text__dK8_I",qualityStickerIconDark:"styles_qualityStickerIconDark__49oet"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/6210-b6ed171f93c188e8.js.map